
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
</head>
<body>

<div class="explanation">
    <p>This is the first way to use the built-in functional web testing
    of ItsNat. From the  server we can fire W3C DOM events, these events simulating the user behavior
    are sent to the browser converted to client events and dispatched again in the
    browser. These events are dispatched as usual to the server.
    Our example simulates three "clicks" one "click" per button.
    </p>

    <p>There are three key methods <code>org.w3c.dom.events.DocumentEvent.createEvent(String)</code>,<code>org.w3c.dom.events.EventTarget.dispatchEvent</code>
        and <code>ClientDocument.startEventDispatcherThread</code>. The <code>Document</code>
        object implements <code>org.w3c.dom.events.DocumentEvent</code> by default
        <code>DocumentEvent.createEvent(String)</code> creates events ready to be dispatched
        to the client or locally, in this case events are sent to the browser.
    </p>
    <p>When dispatched to the browser, ItsNat generates JavaScript code to convert the server event as a client event
        and dispatching it in the client. The method <code>startEventDispatcherThread</code>
        executes the specified "server dispatching task" in a new thread, this method ensures every <code>EventTarget.dispatchEvent</code>
        call only returns when the event is processed in the client. If server listeners are registered as synchronous
        the test is deterministic (fully sequential).
    </p>
</div>

</body>
</html>
