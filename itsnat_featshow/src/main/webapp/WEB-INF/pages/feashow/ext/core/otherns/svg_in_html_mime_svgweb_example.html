<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>SVG in XHTML and SVGWeb Demo</title>
  <meta name="svg.render.forceflash" content="true" />
  <script src="svgweb/svg.js" data-path="svgweb"></script>
</head>
<body itsnat:nocache="true" xmlns:itsnat="http://itsnat.org/itsnat" style="margin:30px">

    <p>
        <a href="javascript:void(0);" onclick="reloadWithForceFlash(false);">Set forceflash to FALSE</a>&nbsp;
        <a href="javascript:void(0);" onclick="reloadWithForceFlash(true);">to TRUE</a> (only useful in non-MSIE browsers, right-click on SVG area to see which engine is used)
    </p>

    <svg id="svgId" xmlns="http://www.w3.org/2000/svg" version="1.1" baseProfile="full" width="350px" height="170px" style="margin:0px; border: red 1px solid;"
         itsnat:svgengine="svgweb" xmlns:itsnat="http://itsnat.org/itsnat">
        <g id="circleListId">
          <circle cx="60" cy="60" r="50" fill="#ff0000" stroke="#000000" stroke-width="2px"/>
        </g>
        <text id="textId" x="70" y="150" font-size="18">(Time)</text>
    </svg>

    <br /><br />
    <a id="addCircleId" href="javascript:;">Add Circle</a>&nbsp;
    <a id="removeCircleId" href="javascript:;">Remove Circle</a>&nbsp;
    <a id="biggerCircleId" href="javascript:;">Bigger Circle</a>&nbsp;
    <a id="smallerCircleId" href="javascript:;">Smaller Circle</a>
    <br /><br />
    <a id="reinsertId" href="javascript:;">Reset (reinsertion)</a>&nbsp; <input id="useSVGLoadId" type="checkbox" /> Use SVGLoad listener

    <p>Note: in <a href="http://code.google.com/appengine/" target="_blank">GAE</a> use SVGLoad mode, automatic handling does not work.</p>

    <script>
    function reloadWithForceFlash(value)
    {
        var url = window.location.href;
        var begin = url.indexOf('svg.render.forceflash');
        if (begin == -1)
        {
            url = url + "&svg.render.forceflash=" + value;
        }
        else
        {
            var end;
            begin = url.indexOf('svg.render.forceflash=true');
            if (begin != -1)
            {
                end = begin + 'svg.render.forceflash=true'.length;
            }
            else
            {
                begin = url.indexOf('svg.render.forceflash=false');
                end = begin + 'svg.render.forceflash=false'.length;
            }
            url = url.substring(0,begin) + "svg.render.forceflash=" + value + url.substring(end);
        }
        window.location.href = url;
    }
    </script>


</body>
</html>

