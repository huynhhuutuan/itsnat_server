<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"  xmlns:itsnat="http://itsnat.org/itsnat">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>ItsNat Stateless Example in Manual</title>
    <script>
    function sendEventStatelessCustom()
    {
        var userEvt = document.getItsNatDoc().createEventStateless();
        userEvt.setExtraParam('title',document.title);       
        document.getItsNatDoc().dispatchEventStateless(userEvt, 3 /*XHR_ASYNC_HOLD*/, 1000000);
    }
    function sendEventStatelessBadTemplateName()
    {
        var userEvt = document.getItsNatDoc().createEventStateless();
        userEvt.setExtraParam('title',document.title);
        userEvt.setExtraParam('itsnat_doc_name','bad doc name');        
        document.getItsNatDoc().dispatchEventStateless(userEvt, 3 /*XHR_ASYNC_HOLD*/, 1000000);
    }    

    function sendEventStateless()
    {
        var counterElem = document.getElementById("counterId");
        var userEvt = document.getItsNatDoc().createEventStateless();
        userEvt.setExtraParam('counter',counterElem.firstChild.data);
        userEvt.setExtraParam('itsnat_doc_name','manual.stless.example.eventReceiver');        
        document.getItsNatDoc().dispatchEventStateless(userEvt,3 /*XHR_ASYNC_HOLD*/, 1000000);
    }    
    
    function sendEventStatelessCustomAddedTemplateInEvent()
    {
        var userEvt = document.getItsNatDoc().createEventStateless();
        var counterElem = document.getElementById("counterId");
        var userEvt = document.getItsNatDoc().createEventStateless();
        userEvt.setExtraParam('counter',counterElem.firstChild.data);        
        userEvt.setExtraParam('itsnat_doc_name_second_opportunity','manual.stless.example.eventReceiver');            
        document.getItsNatDoc().dispatchEventStateless(userEvt, 3 /*XHR_ASYNC_HOLD*/, 1000000);
    }       
    </script>    
    
</head>
<body  >

    <h3>ItsNat Stateless Example in Manual</h3>

    <h4 id="presentationId" itsnat:nocache="true"></h4>
    
    <a href="javascript:sendEventStatelessCustom()">Send stateless event custom</a>     
   
    <br /><br />
    <a href="javascript:sendEventStatelessBadTemplateName()">Send stateless event with a document template wrong (not found)</a>       
         
    <br /><br />
    <a href="javascript:sendEventStateless()">Send stateless event</a> 
          
    <br /><br />    
    <a href="javascript:sendEventStatelessCustomAddedTemplateInEvent()">Send stateless custom event, added template in event</a>      
        
    <br /><br />  
    <div>
        <div>Num. Events: <b id="counterId" itsnat:nocache="true">0</b></div>
    </div>
        
    <div>
        <div>
            <div id="insertHereId" /> 
        </div>
    </div>

    <br />
</body>
</html>
