<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>ItsNat - OLD RELEASE NOTES (<= 1.0)</title>
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="pragma" content="no-cache" />
    <style type="text/css">
        h2 { color: #ED752A; }
        h3 { color: #95A22C; }
        li { padding: 5px; }
    </style>
</head>
<body style="background-color:white;">

<h2>ItsNat - Old Release Notes (<= 1.0)</h2>

<h3>Version 1.0</h3>
<ul>
    <li>Added &lt;script&gt; based client/server communication for events besides AJAX (see <code>CommMode</code>
        new name of <code>SyncMode</code>, atribute names and values have changed).
        This new mode has been only tested in MSIE 6+ and latest FireFox, Chrome, Opera and Safari browsers,
        this new feature may work in any other browser supported by ItsNat (including mobile ones).
    </li>
    <li>Extreme Mashups (a.k.a. attached server documents): any page loaded by a browser with any technology can be sent to the server,
        created an ItsNatDocument with this markup and processed like a normal ItsNat template.
        Useful for web mashups (alongside <code>CommMode.SCRIPT*</code> modes) or to leverage with AJAX
        old web applications/sites. This feature has only been tested on the prominent desktop browsers
        (FireFox, MSIE 6+, Chrome, Safari, Opera), other supported browsers could work (not tested).
    </li>
    <li>Remote Templates: now the source of templates can be any remote URL or a template source
        managed by a user defined <code>TemplateSource</code> object. This feature opens ItsNat
        to build sophisticated front ends/proxies/filters of any web application/site.
        An example of Google Search modified on demand is provided.
    </li>
    <li>Full Remote Control: now attached clients can register event listeners and send events to the server,
        the client owner of the document (the client which loaded the document) is basically the same
        as attached clients in full remote control mode. In brief several users/clients can access
        to the same document. A new parameter <code>itsnat_read_only</code> (set to false) configures this mode.
    </li>
    <li>File uploading based on AJAX using iframes (new <code>ItsNatHTMLIFrame</code> component.
    </li>
    <li>Updated HTML parser to correctly recognize HTML 5 empty elements like embed, source, track, keygen, command or device
        etc when the element in markup is not closed, for instance &lt;embed ...&gt; instead of &lt;embed .../&gt;,
        now the ItsNat HTML parser (derivative from NekoHTML) does not enclose next elements.
    </li>
    <li>Default value of <code>ItsNatServletContext.getMaxOpenDocumentsBySession()</code> is now 10,
        and now it also limits the number of "attached server documents".
    </li>
    <li>New browsers supported:
        <ul>
            <li>Internet Explorer v9 (preview 3) as a true W3C browser including SVG support 
                (embedded on XHTML and pure SVG).
            </li>
            <li>SVGWeb 2010-04-09 "Dracolisk" (user code changes: "load" listeners must be changed to "SVGLoad", asked by Dracolisk)</li>
            <li>Opera Mini 5.1 works fine (nothing specific)</li>
        </ul>
    </li>
    <li>The framework can be recompiled with Servlet 3.0 APIs.
    </li>
    <li>New API: related to Full Remote Control
        <ul>
            <li>ItsNatAttachedClientEvent.isReadOnly()</li>
            <li>ItsNatAttachedClientEvent.setReadOnly(boolean)</li>
            <li>ClientDocument.getScriptUtil()</li>
            <li>ClientDocument.addEventListener(EventTarget,String,EventListener,boolean)</li>
            <li>ClientDocument.addEventListener(EventTarget,String,EventListener,boolean,int)</li>
            <li>ClientDocument.addEventListener(EventTarget,String,EventListener,boolean,ParamTransport)</li>
            <li>ClientDocument.addEventListener(EventTarget,String,EventListener,boolean,ParamTransport[])</li>
            <li>ClientDocument.addEventListener(EventTarget,String,EventListener,boolean,String)</li>
            <li>ClientDocument.addEventListener(EventTarget,String,EventListener,boolean,int,ParamTransport[],String,long)</li>
            <li>ClientDocument.removeEventListener(EventTarget,String,EventListener,boolean)</li>
            <li>ClientDocument.addMutationEventListener(EventTarget,EventListener,boolean)</li>
            <li>ClientDocument.addMutationEventListener(EventTarget,EventListener,boolean,int,String,long)</li>
            <li>ClientDocument.removeMutationEventListener(EventTarget,EventListener,boolean)</li>
            <li>ClientDocument.addUserEventListener(EventTarget,String name,EventListener,int,ParamTransport[],String,long)</li>
            <li>ClientDocument.addUserEventListener(EventTarget,String name,EventListener)</li>
            <li>ClientDocument.removeUserEventListener(EventTarget,String name,EventListener)</li>
            <li>ClientDocument.addEventListener(EventListener)</li>
            <li>ClientDocument.removeEventListener(EventListener)</li>
            <li>ItsNatComponent.addEventListener(ClientDocument,String,EventListener,boolean)</li>
            <li>ItsNatComponent.removeEventListener(ClientDocument,String,EventListener,boolean)</li>
            <li>ItsNatComponent.addEventListener(ClientDocument,String,EventListener)</li>
            <li>ItsNatComponent.removeEventListener(ClientDocument,String,EventListener)</li>
            <li>ItsNatComponent.enableEventListener(ClientDocument,String)</li>
            <li>ItsNatComponent.disableEventListener(ClientDocument,String)</li>
            <li>ItsNatComponent.setEventListenerParams(ClientDocument,String,boolean,int,ParamTransport[],String,long)</li>
        </ul>
    </li>
    <li>New API (other):
        <ul>
            <li>org.itsnat.core.tmpl.TemplateSource</li>
            <li>org.itsnat.comp.iframe.ItsNatHTMLIFrame</li>
            <li>org.itsnat.comp.iframe.HTMLIFrameFileUpload</li>
            <li>org.itsnat.comp.iframe.FileUploadRequest</li>
            <li>ItsNatHTMLComponentManager.createItsNatHTMLIFrame(HTMLIFrameElement,NameValue[])</li>
            <li>MarkupTemplate.getSource() (replaces MarkupTemplate.getInputSource() very different behavior)</li>
            <li>ItsNatTimer.getClientDocument()</li>
            <li>CometNotifier.getClientDocument()</li>
            <li>ClientDocument.createCometNotifier(int commMode,long ajaxTimeout)</li>
            <li>ItsNatServletConfig.getMaxOpenClientsByDocument()</li>
            <li>ItsNatServletConfig.setMaxOpenClientsByDocument(int)</li>
            <li>ItsNatDocumentTemplate.getMaxOpenClientsByDocument()</li>
            <li>ItsNatDocumentTemplate.setMaxOpenClientsByDocument(int)</li>
            <li>ItsNatDocument.getMaxOpenClientsByDocument()</li>
            <li>ItsNatDocument.setMaxOpenClientsByDocument(int)</li>
        </ul>
    </li>
    <li>Removed API: removed optional control of the location of framework JavaScript files
        <ul>
            <li>ItsNatServletConfig.isAddFrameworkScriptFiles()</li>
            <li>ItsNatServletConfig.setAddFrameworkScriptFiles(boolean)</li>
            <li>ItsNatDocumentTemplate.isAddFrameworkScriptFiles()</li>
            <li>ItsNatDocumentTemplate.setAddFrameworkScriptFiles(boolean)</li>
            <li>ItsNatDocument.isAddFrameworkScriptFiles()</li>
            <li>ItsNatDocument.setAddFrameworkScriptFiles(boolean)</li>
        </ul>
    </li>
    <li>Removed API: these interfaces and methods have been removed from public API because actually
        they are only (and must be) used by ItsNat implementation of components.
        <ul>
            <li>ItsNatComboBoxUI</li>
            <li>ItsNatComboBox.getItsNatComboBoxUI()</li>
            <li>ItsNatTreeUI.addRootNode(Object)</li>
            <li>ItsNatTreeUI.removeRootNode()</li>
            <li>ItsNatTreeUI.insertTreeNodeAt(int,TreePath)</li>
            <li>ItsNatTreeUI.insertTreeNodeAt(TreePath)</li>
            <li>ItsNatTreeUI.removeTreeNodeAt(int,TreePath)</li>
            <li>ItsNatTreeUI.removeAllChildTreeNodes(TreePath)</li>
            <li>ItsNatTreeUI.setTreeNodeValueAt(int,TreePath,boolean)</li>
            <li>ItsNatTreeUI.setTreeNodeValueAt(TreePath,boolean)</li>
            <li>ItsNatButtonRadioUI</li>
            <li>ItsNatButtonRadio.getItsNatButtonRadioUI()</li>
            <li>ItsNatButtonToggleUI</li>
            <li>ItsNatButtonToggle.getItsNatButtonToggleUI()</li>
            <li>ItsNatListMultSelUI</li>
            <li>ItsNatListMultSel.getItsNatListMultSelUI()</li>
            <li>ItsNatTableHeaderUI.setLength(int)</li>
            <li>ItsNatTableHeaderUI.insertElementAt(int,Object)</li>
            <li>ItsNatTableHeaderUI.removeElementAt(int)</li>
            <li>ItsNatTableHeaderUI.removeElementRange(int,int)</li>
            <li>ItsNatTableHeaderUI.removeAllElements()</li>
            <li>ItsNatTableHeaderUI.setElementValueAt(int,Object,boolean,boolean)</li>
            <li>ItsNatTextComponentUI.setText(String)</li>
            <li>ItsNatTextComponentUI.insertString(int,String)</li>
            <li>ItsNatTextComponentUI.removeString(int,int)</li>
            <li>ItsNatLabelUI.addLabelMarkup(Object)</li>
            <li>ItsNatLabelUI.removeLabelMarkup()</li>
            <li>ItsNatLabelUI.setLabelValue(Object)</li>
            <li>ItsNatListUI.setLength(int)</li>
            <li>ItsNatListUI.insertElementAt(int,Object)</li>
            <li>ItsNatListUI.removeElementAt(int)</li>
            <li>ItsNatListUI.removeElementRange(int,int)</li>
            <li>ItsNatListUI.removeAllElements()</li>
            <li>ItsNatListUI.setElementValueAt(int,Object,boolean,boolean)</li>
            <li>ItsNatTableUI.setRowCount(int)</li>
            <li>ItsNatTableUI.setColumnCount(int)</li>
            <li>ItsNatTableUI.removeAllRows()</li>
            <li>ItsNatTableUI.removeAllColumns()</li>
            <li>ItsNatTableUI.insertRowAt(int,Object[])</li>
            <li>ItsNatTableUI.insertColumnAt(int,Object[])</li>
            <li>ItsNatTableUI.setRowValuesAt(int,Object[],boolean[],boolean[])</li>
            <li>ItsNatTableUI.setColumnValuesAt(int,Object[],boolean[],boolean[])</li>
            <li>ItsNatTableUI.setCellValueAt(int,int,Object,boolean,boolean)</li>
            <li>ItsNatTableUI.removeRowAt(int)</li>
            <li>ItsNatTableUI.removeColumnAt(int)</li>
          </ul>
    </li>
    <li>Removed API (other):
        <ul>
            <li>MarkupTemplate.getInputSource()</li>
        </ul>
    </li>
    <li>Changed API:
        <ul>
            <li><code>ClientErrorMode</code> is now a class</li>
            <li><code>SyncMode</code> is now the class <code>CommMode</code> changed attribute names and values and added new modes</li>
            <li><code>ItsNatDocument.getDefaultSyncMode()</code> => <code>ItsNatDocument.getCommMode()</code></li>
            <li><code>ItsNatDocument.setDefaultSyncMode(int)</code> => <code>ItsNatDocument.setCommMode(int)</code></li>
            <li><code>ItsNatDocumentTemplate.getDefaultSyncMode()</code> => <code>ItsNatDocumentTemplate.getCommMode()</code></li>
            <li><code>ItsNatDocumentTemplate.setDefaultSyncMode(int)</code> => <code>ItsNatDocumentTemplate.setCommMode(int)</code></li>
            <li><code>ItsNatServletConfig.getDefaultSyncMode()</code> => <code>ItsNatServletConfig.getCommMode()</code></li>
            <li><code>ItsNatServletConfig.setDefaultSyncMode(int)</code> => <code>ItsNatServletConfig.setCommMode(int)</code></li>
            <li><code>ItsNatServlet.registerItsNatDocumentTemplate(String,String,String)</code> => <code>ItsNatServlet.registerItsNatDocumentTemplate(String,String,Object)</code></li>
            <li><code>ItsNatServlet.registerItsNatDocFragmentTemplate(String,String,String)</code> => <code>ItsNatServlet.registerItsNatDocFragmentTemplate(String,String,Object)</code></li>
            <li><code>CometNotifier.getAJAXTimeout()</code> => <code>CometNotifier.getEventTimeout()</code></li>
            <li><code>ItsNatAttachedClientEvent.getAJAXTimeout()</code> => <code>ItsNatAttachedClientEvent.getEventTimeout()</code></li>
            <li><code>ItsNatDocument.getAJAXTimeout()</code> => <code>ItsNatDocument.getEventTimeout()</code></li>
            <li><code>ItsNatDocument.setAJAXTimeout(long)</code> => <code>ItsNatDocument.setEventTimeout(long)</code></li>
            <li><code>ItsNatDocumentTemplate.getAJAXTimeout()</code> => <code>ItsNatDocumentTemplate.getEventTimeout()</code></li>
            <li><code>ItsNatDocumentTemplate.setAJAXTimeout(long)</code> => <code>ItsNatDocumentTemplate.setEventTimeout(long)</code></li>
            <li><code>ItsNatServletConfig.getAJAXTimeout()</code> => <code>ItsNatServletConfig.getEventTimeout()</code></li>
            <li><code>ItsNatServletConfig.setAJAXTimeout(long)</code> => <code>ItsNatServletConfig.setEventTimeout(long)</code></li>
            <li><code>ItsNatDocumentTemplate.isAJAXEnabled()</code> => <code>ItsNatDocumentTemplate.isEventsEnabled()</code></li>
            <li><code>ItsNatDocumentTemplate.setAJAXEnabled(boolean)</code> => <code>ItsNatDocumentTemplate.setEventsEnabled(boolean)</code></li>
            <li><code>ItsNatServletConfig.isAJAXEnabled()</code> => <code>ItsNatServletConfig.isEventsEnabled()</code></li>
            <li><code>ItsNatServletConfig.setAJAXEnabled(boolean)</code> => <code>ItsNatServletConfig.setEventsEnabled(boolean)</code></li>
        </ul>
    </li>
    <li>Changed packages:
        <ul><li><code>MarkupTemplate</code>,<code>ItsNatDocumentTemplate</code>
            and <code>ItsNatDocFragmentTemplate</code> moved to
            <code>org.itsnat.core.tmpl</code> package.
            </li>
        </ul>
    </li>

    <li>Remote view/control:
        <ul>
            <li><code>itsnat_read_only</code> with values true or false controls whether the client
                is attached in view only mode (true) or full remote control (false).
            </li>
            <li><code>itsnat_refresh_method</code> is now optional and has a new mode <code>none</code> (no refresh events),
                this is the default mode.
            </li>
            <li><code>itsnat_syncmode</code> parameter is now <code>itsnat_comm_mode</code>,
                and uses the new values of <code>CommMode</code> (former <code>SyncMode</code>).
            </li>
            <li><code>itsnat_ajaxtimeout</code> parameter is now <code>itsnat_event_timeout</code>.
            </li>
        </ul>
    </li>
    <li>Fixed bug: Now <code>ItsNatHttpServletSession.getHttpSession()</code> returns
        the current <code>HttpSession</code> instance returned by <code>HttpServletRequest.getSession()</code>
        of the last request, because, in spite of is very unusual, session instance may change
        between requests for instance in Google App Engine. This problem only happens when
        "session replication capable" feature is disabled (in GAE).
    </li>
    <li>Fixed issues with dynamic insertion of &lgt;script&gt; and MIME "application/xhtml+xml" in WebKit browsers.
    </li>
    <li>Fixed bug: sometimes inline script nodes have incomplete code on load time in XHTML and MIME "application/xhtml+xml".
    </li>
    <li>Manual:
        <ul>
            <li>Updated accordingly, some titles of chapters changed.</li>
            <li>Removed "3.2.1 Optional JavaScript files".</li>
            <li>Removed "5.1.2.12 Automatic load of framework JavaScript files".</li>
            <li>Added "6.23.6 Implications of full remote control".</li>
            <li>Added "6.24 EXTREME MASHUPS (A.K.A. ATTACHED SERVER)".</li>
            <li>Added "6.25 REMOTE TEMPLATES".</li>
            <li>Added "6.39.5 Old modes and Quirks Mode in Internet Explorer v9".</li>
            <li>Added "7.14 IFRAME FOR FILE UPLOAD".</li>
        </ul>
    </li>
    <li>Feature Showcase:
        <ul>
            <li>100% JSP free (removed index.jsp)</li>
            <li>Added SCRIPT comm. modes to "Core/Listeners/Communication Modes" (former "Sync Modes")</li>
            <li>Added "Core/Extreme Mashups/Extreme Mashup HTML Mime".</li>
            <li>Added "Core/Extreme Mashups/Extreme Mashup XHTML Mime".</li>
            <li>Added "Core/Misc. Features/Remote Templates".</li>
            <li>Added Full Control modes to "Core/Misc. Features/Remote View-Control" example.</li>
            <li>Added "Components/Other Components/File Upload" example.</li>
        </ul>
    </li>
</ul>

<h3>Version 0.7.0.6</h3>
<ul>
    <li>Better FireBug support: FireBug (v1.5.3 tested) is intrusive injecting
        new nodes into the document usually in the end of &lt;head&gt; and &lt;body&gt;
        Now ItsNat detects and ignores these nodes.
    </li>
    <li>Improved support of non-XHTML namespaces in X/HTML and MIME text/html including
        isolated attributes, read "6.34.9 Non-XHTML markup in X/HTML and text/html MIME" for more info.
    </li>
    <li>The default renderer is even smarter, when no significative text is found, the tree is traversed until
        a deep (HTML) element is found able to contain text nodes (with significative text), in this case
        the text node is added to the end as a child node. See "6.16 DOM RENDERERS" (updated).
    </li>
    <li>Fixed bug/workaround: src attribute of &lt;iframe&gt; cannot be changed
        in Pocket IE (WM 6.0 and 6.1).
    </li>
    <li>Fixed bug/workaround: Pocket IE (WM 6.0) fools when class attribute is changed
        (using className property) in table elements (td, tr, tbody and so on).
    </li>
    <li>Fixed regression: current value of "value" attribute of &lt;textarea&gt; ignored in
        remote view/control.
    </li>
    <li>Manual:
        <ul>
            <li>Added "6.39 JAVASCRIPT LIBRARIES, BROWSER EXTENSIONS AND FIREBUG"
            </li>
            <li>Renamed "6.34 SVG AND XUL" to "6.34 SVG, XUL AND NON-XHTML NAMESPACES"</li>
            <li>Added "6.34.9 Non-XHTML markup in X/HTML and text/html MIME"</li>
        </ul>
    </li>
    <li>Feature Showcase: the call ServletContext.getRealPath("/") does not end with "/" on last version of Jetty (v6.1 tested)
        this applies to Google App Engine too, manually adding "/" fixes this problem.
    </li>
</ul>

<h3>Version 0.7.0.5</h3>
<ul>
    <li>Methods like <code>Event.getTarget()</code> now return null when the
        node in server does not exist because is cached (into a static subtree).
        Previously an exception was thrown.
    </li>
    <li>Fixed bug: <i>fully static</i> HTML templates fail on load if caching is enabled.
    </li>
    <li>Fixed regression in 0.7.0.4: Opera Mobile 9.5 beta fails when added DOM nodes to the end.
    </li>
</ul>

<h3>Version 0.7.0.4</h3>
<ul>
    <li>Automatically disabled some browser extensions (like AdBlock or Delicious Tools of Chrome) introducing new elements
        under &lt;html&gt; breaking ItsNat (these elements are removed in load time before ItsNat code is executed).
    </li>
    <li>Improved inhibition of form auto-fill in Opera 9/10 browsers including Mobile.
    </li>
    <li>Fixed bug: changing text in non-SVG text nodes does not work in MSIE if SVGWeb is detected.
    </li>
</ul>

<h3>Version 0.7.0.3</h3>
<ul>
    <li><code>ScriptUtil.getTransportableStringLiteral(String)</code> generates line breaks as \r\n sequence
        if the document was loaded by MSIE. This also fixes problems with line breaks in &lt;textarea&gt; elements
        dynamically added with some initial text content.
    </li>
    <li>Fixed bug: HTML entities in cached text node are not converted to normal characters
        when ItsNat inserts this text using DOM in a text node. This problem is not very usual.
    </li>
    <li>Fixed bug: ItsNat is not aware of <code>HttpSession.getMaxInactiveInternal()</code> returning a negative value (never timeout)
        for instance in Jetty.
    </li>
    <li>Fixed bug: &lt;textarea&gt; initial value is cleared on load time when is not attached to a component.
    </li>
    <li>Some minor improvemenents in Manual and javadoc.
    </li>
</ul>

<h3>Version 0.7.0.2</h3>
<ul>
    <li>Fixed bug (introduced in 0.7.0.1): sessions automatically stored by application server are cleared when loaded again when the application server is relaunched and SessionReplicationCapable feature
        is set to false. This bug is important in development. Upgrading is recommended.
    </li>
</ul>

<h3>Version 0.7.0.1</h3>
<ul>
    <li>Fixed an important bug: sessions are not cleaned if SessionReplicationCapable feature
        is set to false. Upgrading is strongly recommended.
    </li>
</ul>

<h3>Version 0.7</h3>
<ul>
    <li>Xerces DOM implementation has been replaced by Batik DOM Core implementation (SVG APIs not included).
        Batik DOM is extended in ItsNat to support HTML DOM APIs.
        Xerces and NekoHTML (based on Xerces) parsers still used generating Batik DOM documents.
        This change implies:
        <ul>
            <li><b>Fixed some serious threading issues of Xerces, not present in Batik (of course following the pattern one-thread per document)</b>.Random bugs are gone.
            </li>
            <li>Because ItsNat is using the DOM implementation of Batik instead of Xerces, Xerces version has been
                updated to 2.9.1, this version includes any required dependency of Batik (XPath, DOM 3).
                No longer Xalan files are needed, serializer.jar and xml-apis.jar are now got from Xerces.
                New dependencies: batik-dom.jar, batik-util.jar and batik-xml.jar
            </li>
            <li>DOM implementation is now highly controlled by ItsNat providing even more "The Browser Is The Server" transparency.
                Now <code>EventTarget.addEventListener(String,EventListener,boolean)</code>
                and <code>EventTarget.removeEventListener(String,EventListener,boolean)</code> can be used
                to register remote event listeners, <code>DocumentEvent.createEvent(String)</code> can create remote events,
                and <code>EventTarget.dispatchEvent(Event)</code> redirects to <code>ItsNatDocument.dispatchEvent(EventTarget,Event)</code>
                if the event is remote. The behavior of these methods is controlled by <code>ItsNatNode.isInternalMode()</code>.
            </li>
            <li><code>HTMLIFrameElement.getContentDocument()</code>, <code>HTMLObjectElement.getContentDocument()</code>
                <code>ItsNatHTMLEmbedElement.getContentDocument()</code> and <code>ItsNatHTMLAppletElement.getContentDocument()</code>
                return the document loaded by an iframe/object/embed/applet in server. <code>ItsNatHTMLEmbedElement</code> and
                <code>ItsNatHTMLAppletElement</code> are new interfaces implemented by &lt;embed&gt; and &lt;applet&gt; DOM nodes.
                See "6.35 IFRAME/OBJECT/EMBED/APPLET AUTO-BINDING" in Manual and Feat. Show. examples.
            </li>
            <li>Any DOM node now implements <code>ItsNatNode</code>,
                this interface provides ItsNat extensions to the W3C DOM, for instance <code>ItsNatNode.is/setInternalMode()</code> methods.
            </li>
            <li><code>ItsNatDocument</code> no longer implements <code>DocumentView</code>, now the DOM <code>Document</code> object
                implements this interface to access the default view object.
            </li>
            <li><code>ItsNatDocument</code> no longer implements <code>DocumentEvent</code>, now the DOM <code>Document</code> object
                implements this interface. The method <code>createEvent(String)</code> is
                now part of <code>ItsNatDocument</code> interface.
            </li>
            <li>Now any DOM <code>Element</code> implements <code>ElementCSSInlineStyle</code>, there is no need
                to use a wrapper, in fact <code>ItsNatDocument.getItsNatNode(Node)</code> has been removed.
            </li>
            <li>Any DOM node implements <code>ItsNatNode</code>, methods like <code>ItsNatNode.isInternalMode()</code>
                and <code>ItsNatNode.setInternalMode(boolean)</code> can be used to define:
                <ul>
                    <li>Which event listener registry, internal or remote, is used when
                        <code>EventTarget.addEventListener(String,EventListener,boolean)</code> or
                        <code>EventTarget.removeEventListener(String,EventListener,boolean)</code> are called.
                    </li>
                    <li>The kind of event created by <code>EventTarget.createEvent(String)</code> (internal or remote).
                    </li>
                    <li>If methods like <code>HTMLInputElement.focus()</code> generate JavaScript to execute this task in the client or do nothing.
                    </li>
                </ul>
            </li>
            <li><code>Document.getElementById(String)</code> now works in non-HTML/XHTML documents
                 like pure SVG or XUL. No longer <code>ItsNatDOMUtil.getElementById(String)</code> is needed
                 (this method remains useful for duplicates).
            </li>
            <li>Tag names are now lower case in HTML and XHTML. Lower case is ever recommended
                for instance in methods like <code>Document.getElementsByTagName()</code>.
            </li>
            <li>Improved support of XHTML (page served with MIME <code>application/xhtml+xml</code>)
                and non-XHTML namespaces in general (SVG, XUL, MathML...).
            </li>
            <li>XHTML can be embedded in SVG and XUL documents and HTML components can be used in
                these namespaces (you can ever cast <code>ItsNatComponentManager</code> to <code>ItsNatHTMLComponentManager</code>).
                This is specially useful in SVG because SVG has not built-in input controls and some browsers support &lt;foreignObject&gt;.
            </li>
            <li>Now ItsNat can be optionally recompiled with JDK 1.5+ and v1.5 binary format. It remains Java v1.4 compatible.
            </li>
        </ul>
    </li>
    <li>New browsers or versions supported/tested:
        <ul>
            <li>Bolt Browser (1.0.4). HTML select multiple works as single selection (there is no workaround).
            </li>
            <li>SVG plugins: Adobe SVG Viewer v3, Savarese Ssrc SVG (and XUL) plugin, SVGWeb and Batik SVG toolkit as an applet
                tuned for ItsNat.
            </li>
            <li>Motorola Symphony Browser 1.1 (MotoWebKit 417.19, included in ROKR EM35, MOTO VE66, EM30 or U9). W3C event system is incomplete
                in this browser, ItsNat makes a strong effort to provide a complete W3C event system (server point of view).
                Multiple selection does not work in this browser and ItsNat does not provide a workaround.
            </li>
            <li>Palm webOS browser of the Palm Pre (tested Mojo SDK 1.1).
            </li>
            <li>Opera Mobile 8.60 included in Symbian UIQ 3.0, 8.65 in UIQ 3.1 and 9.5 in UIQ 3.3 beta (Windows Mobile versions are already supported).
            </li>
            <li>Opera Mobile 9.7 beta (non-Turbo mode is recommended, the default) and 10 beta (internal number is 9.8).
            </li>
            <li>Opera 10 desktop.</li>
            <li>UCWEB 6.x JavaME and Windows Mobile and v7 on JavaME (JavaScript in v7 Windows Mobile seems severely broken).
            </li>
            <li>iPhone 3.0, now iPhone OS 2.0 is the minimal version supported (iPod is recognized as an iPhone).
            </li>
            <li>Adobe AIR (v1.5.1) <a href="http://labs.adobe.com/wiki/index.php/Apollo:Articles:Using_HTML_in_Flex-based_Apollo_Applications" target="_blank">HTML Component</a>
            (test with this <a href="http://www.lucentminds.com/archives/adobe-air-web-browser.html" target="_blank">AIR based browser</a>)
            </li>
            <li>Moblin 2.0 Browser (FireFox based) works with no problem as a FireFox browser
            </li>
            <li>Fennec 1.0a1 Windows Mobile. Now testing is done with the real mobile program.
            </li>
            <li>SkyFire 1.0, previous versions deprecated.
            </li>
            <li>S60WebKit 5th v1.0 (v0.9 deprecated).
            </li>
            <li>Safari 4.</li>
            <li>Android 2.0</li>
            <li>BlackBerry JDE 5.0 (for instance Storm 2).
            </li>
        </ul>
    </li>
    <li>Support of remote XUL including AJAX much like SVG including modal layers (only for Gecko browsers like FireFox and MSIE with Savarese Ssrc).
    </li>
    <li>Support of SVG (or any other non-XHTML namespace) embedded inline in XHTML served with MIME "text/html" in browsers
        with native SVG. ItsNat automatically and correctly reinserts the SVG code in load time (the approach is similar
        to <a href="http://intertwingly.net/blog/2006/12/05/HOWTO-Embed-MathML-and-SVG-into-HTML4" target="_blank">this one</a>, ItsNat
        approach is better because it can work with any namespace supported by the browser and not known in ItsNat).
    </li>
    <li>Support of SVG embedded inline in XHTML served with MIME "text/html" in Internet Explorer with Adobe SVG Viewer installed
        using a similar approach described <a href="http://www.schepers.cc/inlinesvg.html" target="_blank">here</a>. ItsNat goes further
        and provides <b>complete DHTML support of inline SVG markup</b>.
    </li>
    <li>Support of SVG embedded inline in XHTML served with MIME "text/html" in Internet Explorer with SVGWeb (based on Flash)
        including dynamic insertion/removal of SVGWeb root nodes.
    </li>
    <li>Partial support of Google App Engine (GAE) with some limitations:
        <ul>
            <li>Most of components do not work because of most of them reuse Swing classes, and
                Swing packages are not white listed in GAE.
            </li>
            <li>Features which create new threads or manage several threads do not work, for instance Asynchronous Tasks,
                server-sent events using browser or Comet (GAE locks any other web request until the Comet request returns, use timers instead).
            </li>
            <li>Remote view/control and iframe/object/embed/applet autobinding in server do not work.
            </li>
            <li>SVGWeb: dynamic insertion of SVGWeb root nodes needs a SVGLoad listener (automatic handling does not work).
            </li>
        </ul>
        <p>Two methods have been added for GAE: <code>ItsNatServletContext.isSessionReplicationCapable()</code>
        and <code>ItsNatServletContext.setSessionReplicationCapable(boolean)</code>,
        With GAE "session replication capable" feature must be set to true and user code must be serializable.
        In this release ItsNat no longer use internally session attributes (<code>HttpSession.setAttribute(String,Object)</code> is never called)
        if "session replication capable" is set to false (the default value), this mode is preferred
        in a single node/servlet container environment or multiple nodes and sticky sessions.
        </p>
        <p>GAE needs a modified version of batik-dom.jar (batik-dom-gae.jar), read <code>fw_dist/gae/README_GAE.txt</code> or in Reference Manual
        (chapter "2.4.4	Google Application Engine support") for more info.
        </p>
        <p>The Feature Showcase is partially working in GAE and deployed online <a href="http://itsnatfeatshow.appspot.com" target="_blank">here</a>.
        </p>
    </li>
    <li>Now the .js files used by the framework are included inside the <code>ItsNat.jar</code> archive and
        can be automatically loaded by the ItsNat servlet when needed.
        The old approach, useful for testing the JavaScript code of the framework, is
        still available, the mode used is controlled by <code>ItsNatServletConfig.setAddFrameworkScriptFiles(boolean)</code> and <code>ItsNatServletConfig.setFrameworkScriptFilesBasePath(String)</code> and the same methods
        in the template and document interfaces. If the first method is called with <code>true</code> and the second with <code>null</code> the internal copy is used.
        Now <code>ItsNatServletConfig.getFrameworkScriptFilesBasePath()</code> returns null by default, that is, the internal copy
        is used (if <code>ItsNatServletConfig.getAddFrameworkScriptFiles()</code> returns true).
        <b><i>If you want use the new automatic inclusion model simply remove or avoid any call to <code>setAddFrameworkScriptFiles(boolean)</code> and <code>setFrameworkScriptFilesBasePath(String)</code>
        and all is done because automatic inclusion is the default</i></b>.
    </li>
    <li>Methods <code>before</code> and <code>after</code> of <code>CreateItsNatComponentListener</code>, of user defined creation listeners, are executed when
        specific component factory methods are called (for instance <code>ItsNatComponentManager.createItsNatFreeLabel(Element,NameValue[])</code>).
        This gives an opportunity to the developer to change/configure the standard component.
        Because some specific factory methods support a null node as parameter, method <code>before</code> of user defined creation listener
        must be tolerant to this case (for instance add <code>if (node == null) return null;</code>).
    </li>
    <li>Improved support of cursor based navigation in Opera Mobile 8.6x and Android including in-place edition.
    </li>
    <li>Modal layers (<code>ItsNatModalLayer</code>): "Clean Below" mode works in SVG (and XUL) too .
    </li>
    <li>Modal layers: added detection of unexpected events received by hidden elements (<code>ItsNatModalLayer.addUnexpectedEventListener(EventListener)</code>).
    </li>
    <li>In Single Page Interface applications cookie support is optional (can be disabled in the browser).
    </li>
    <li>Strongly improved performance of Pocket IE (WM 6 and 6.1). Fixed some bugs.
    </li>
    <li>XML declaration (&lt;?xml...?&gt;) if present in a template is respected as is and is not automatically added if missing.
    </li>
    <li>DOCTYPE declaration if present in a template is respected as is and is not automatically added if missing.
    </li>
    <li>New parameter in remote view/control: <code>itsnat_wait_doc_timeout</code>.
    </li>
    <li><code>itsnat_remctrl=true</code> for requesting remote view/control is now replaced by <code>itsnat_action=attach_client</code>
    </li>
    <li>Updated NekoHTML to v1.9.12
    </li>
    <li>Changed names:
        <ul>
            <li><code>ItsNatRemoteCtrlEvent</code> to <code>ItsNatAttachedClientEvent</code>
            </li>
            <li><code>ItsNatRemoteCtrlCometEvent</code> to <code>ItsNatAttachedClientCometEvent</code>
            </li>
            <li><code>ItsNatRemoteCtrlTimerEvent</code> to <code>ItsNatAttachedClientTimerEvent</code>
            </li>
            <li><code>ItsNatRemoteCtrlEventListener</code> to <code>ItsNatAttachedClientEventListener</code>
            </li>
            <li><code>ItsNatServlet.addItsNatRemoteCtrlEventListener(...)</code> to <code>ItsNatServlet.addItsNatAttachedClientEventListener(...)</code>
            </li>
            <li><code>ItsNatServlet.removeItsNatRemoteCtrlEventListener(...)</code> to <code>ItsNatServlet.removeItsNatAttachedClientEventListener(...)</code>
            </li>
            <li><code>ItsNatDocumentTemplate.addItsNatRemoteCtrlEventListener(...)</code> to <code>ItsNatDocumentTemplate.addItsNatAttachedClientEventListener(...)</code>
            </li>
            <li><code>ItsNatDocumentTemplate.removeItsNatRemoteCtrlEventListener(...)</code> to <code>ItsNatDocumentTemplate.removeItsNatAttachedClientEventListener(...)</code>
            </li>
            <li><code>ItsNatDocument.addItsNatRemoteCtrlEventListener(...)</code> to <code>ItsNatDocument.addItsNatAttachedClientEventListener(...)</code>
            </li>
            <li><code>ItsNatDocument.removeItsNatRemoteCtrlEventListener(...)</code> to <code>ItsNatDocument.removeItsNatAttachedClientEventListener(...)</code>
            </li>
        </ul>
    </li>
    <li>Moved methods:
        <ul>
            <li><code>ItsNatComponent.hasFocus()</code> to <code>ItsNatFormattedTextField.hasFocus()</code>
            </li>
            <li><code>MarkupTemplate.isDebugMode()</code> to <code>ItsNatDocumentTemplate.isDebugMode()</code>
            </li>
            <li><code>MarkupTemplate.setDebugMode(boolean)</code> to <code>ItsNatDocumentTemplate.setDebugMode(boolean)</code>
            </li>
            <li><code>MarkupTemplate.getClientErrorMode()</code> to <code>ItsNatDocumentTemplate.getClientErrorMode()</code>
            </li>
            <li><code>MarkupTemplate.setClientErrorMode(int)</code> to <code>ItsNatDocumentTemplate.setClientErrorMode(int)</code>
            </li>
        </ul>
    </li>
    <li>Added interfaces:
        <ul>
            <li><code>ItsNatHTMLEmbedElement</code></li>
            <li><code>ItsNatHTMLAppletElement</code></li>
        </ul>
    </li>
    <li>Added methods:
        <ul>
            <li><code>ItsNatServletContext.isSessionReplicationCapable()</code>
            </li>
            <li><code>ItsNatServletContext.setSessionReplicationCapable(boolean)</code>
            </li>
            <li><code>ItsNatNode.isInternalMode()</code>
            </li>
            <li><code>ItsNatNode.setInternalMode(boolean)</code>
            </li>
            <li><code>ItsNatDocument.createEvent(String)</code>
            </li>
            <li><code>ItsNatComponentManager.addCreateItsNatComponentListener(CreateItsNatComponentListener)</code>
            </li>
            <li><code>ItsNatComponentManager.removeCreateItsNatComponentListener(CreateItsNatComponentListener)</code>
            </li>
            <li><code>ItsNatTreeWalker.getFirstDeepestChildElement(Node)</code>
            </li>
            <li><code>NameValue.setValue(Object)</code>
            </li>
            <li><code>ItsNatComponent.addEventListener(String,EventListener,boolean)</code>.
                Now event listeners can be dispatched before the default behavior of the component is executed.
            </li>
            <li><code>ItsNatComponent.removeEventListener(String,EventListener,boolean)</code>
            </li>
            <li><code>ItsNatComponent.isDisposed()</code>
            </li>
            <li><code>ItsNatDOMUtil.createElementNS(String,String,String,Document)</code>
            </li>
            <li><code>ItsNatTreeWalker.getFirstChildElementWithTagNameNS(Node,String,String)</code>
            </li>
            <li><code>ItsNatModalLayer.addUnexpectedEventListener(EventListener)</code>
            </li>
            <li><code>ItsNatModalLayer.removeUnexpectedEventListener(EventListener)</code>
            </li>
            <li><code>ItsNatEventListenerChain.isStopped()</code>
            </li>
            <li><code>ItsNatDocument.getContainerNode()</code>
            </li>
            <li><code>ItsNatAttachedClientEvent.getWaitDocTimeout()</code></li>
        </ul>
    </li>
    <li>Removed methods:
        <ul>
            <li><code>ItsNatDocument.getItsNatNode(Node)</code>
            </li>
            <li><code>ItsNatNode.getNode()</code>
            </li>
        </ul>
    </li>

    <li>Fixed bugs:
        <ul>
            <li><code>Event.preventDefault()</code> and <code>Event.stopPropagation()</code> called from server are not working (JavaScript error).
            </li>
            <li>Adding code to <code>&lt;script&gt;</code> using DOM fails in MSIE desktop in some circumstances.
            </li>
            <li>Occasionally thrown a false error ("Security violation attempt") when closing a remote view on MSIE
            </li>
            <li>Regression: In SkyFire ItsNat fixes a bug of SkyFire (change event not fired in text based form controls). This workaround
                was accidentally disabled in v0.6, now is enabled again.
            </li>
            <li>Fixed some bugs in modal layers on browsers with form controls ignoring z-index
            (detected in ItsNat Experiments Ext-JS Example)
            </li>
            <li>In in-place edition a select element cannot be changed (new selection is ignored) in BlackBerry devices.
            </li>
            <li>In in-place edition an input checkbox element cannot be changed (new state is ignored) in SkyFire.
            </li>
            <li>Event listeners of the component permanent disabled when changing the event activator type for in place edition when edition is taking place.
            </li>
            <li>Fixed bugs related with elements with namespaces.
            </li>
            <li>Fixed some problems with textarea elements.
            </li>
            <li>Fixed server-sent events using browser in BlackBerry.
            </li>
            <li>Fixed problems with &lt;input type="file"&gt; with some "value" attribute in BlackBerry
                (thrown exceptions). This problem should be definitively fixed.
            </li>
            <li>Dynamically inserted &lt;script&gt; elements are executed in all browsers (including "problematic").
            </li>
            <li>Correctly detected Opera Mobile 9.5 of SAMSUNG-SGH-i900 (Omnia).
            </li>
            <li>itsnat:nocache attribute is ignored in &lt;html&gt; element.
            </li>
            <li><code>ItsNatTimerHandle.cancel()</code> returns a wrong value.</li>
            <li>ItsNat internal architecture has been highly improved, other bugs may be fixed.
            </li>
        </ul>
    </li>
    <li>Workaround to fix a weird bug in Opera Mobile 8.60 in select elements,
        on load time the presence of the attribute "selected" fools the control.
    </li>
    <li>Workaround to fix a weird bug in Opera 9.x+ (including Mobile) in select elements,
        if this element was hidden using visibility='hidden" then selected options
        do not change visually when changed (deselected) using JavaScript (DOM state is valid).
    </li>
    <li>Manual:
        <ul>
            <li>Updated accordingly, for instance XUL support.
            </li>
            <li>New subchapter: "2.4.1	Browsers supported", "2.4.2 External dependencies", "2.4.3 Session management"
            and "2.4.4 Google Application Engine support" under "2.4 TECHNICAL REQUIREMENTS...".
            </li>
            <li>New subchapter: "3.2.1 Optional JavaScript files" under "3.2 WHAT DOES ANY NEW JAVA WEB APPLICATION NEED?".
            </li>
            <li>New subchapter: "4.5 SECURITY".
            </li>
            <li>New subchapter: "6.3 REMOTE VS INTERNAL DOM MODE".
            </li>
            <li>New subchapter: "6.34 SVG and XUL" (previously "6.33 SVG").
            </li>
            <li>New subchapter: "6.35 IFRAME/OBJECT/EMBED/APPLET AUTO-BINDING ".
            </li>
            <li>New subchapter: "7.14.2 Detection of unexpected events received by hidden elements" under "7.14 MODAL LAYERS".
            </li>
            <li>New subchapter: "7.14.4 Modal Layers in XUL" under "7.14 MODAL LAYERS".
            </li>
            <li>New subchapter: "7.21.4 The case of Motorola Symphony" under "7.21 COMPONENTS IN MOBILE DEVICES/BROWSERS".
            </li>
            <li>New subchapter: "7.21.5 The case of UCWEB" under "7.21 COMPONENTS IN MOBILE DEVICES/BROWSERS".
            </li>
            <li>New subchapter: "7.21.6	The case of Opera Mobile 8.60 as included in UIQ 3.0"  under "7.21 COMPONENTS IN MOBILE DEVICES/BROWSERS".
            </li>
        </ul>
    </li>
    <li>Feature Showcase:
        <ul>
            <li>Bolt, Symphony, Palm webOS and UCWEB are recognized as mobile browsers.
            </li>
            <li>Some examples have been prepared to run in Google App Engine environment.
            </li>
            <li>Deleted <code>PocketIEUtil</code> and replaced with <code>PocketIEMotoWebKitAdaptor</code>
                to adapt the HTML layout to Pocket IE and Motorola Symphony "on the fly"
                using mutation and <code>CreateItsNatComponentListener</code> listeners.
                Note: yes really, the <b>Feature Showcase runs now on Pocket IE</b>, PocketIE support is testimonial
                and must be seen as a challenge and an opportunity to show the power of ItsNat
                in this browser, because the Feat. Show. is too big and complex for PIE, it works but some examples are executed too slowly.
            </li>
            <li>In the same way <code>UCWEBAdaptor</code> adapts the HTML layout to UCWEB 6.x.
                Some workarounds applied may be no longer needed because UCWEB is proxy based and UCWEB server
                behavior is being improved.
            </li>
            <li>Now tab selection is managed by a <code>ItsNatFreeComboBox</code> component.
            </li>
            <li>Joystick mode selection added per example.
            </li>
            <li>SVG Modal Layer example now optionally uses "Clean Below" technique.
            </li>
            <li>Added two XUL examples: "Core/Other Namespaces/Pure XUL" and "Components/Modal Layers/XUL Modal Layers".
            </li>
            <li>Added SVG examples below "Core/Other Namespaces" : "SVG in XHTML and XHTML MIME",
                "SVG in XHTML and HTML MIME", "SVG in XHTML, HTML MIME and ASV" and "SVG inline in XHTML, HTML MIME and SVGWeb".
            </li>
            <li>Added examples in: "Core/IFrame-Object-Embed-Applet Auto-Binding" (HTML and SVG)
            </li>
            <li>Added example: "Components/Free List Pure SVG and XHTML Embedded".
            </li>
            <li>Improved main tree rendering (now is not fully expanded).
            </li>
            <li>Fixed a minor bug on examples based on table components.
            </li>
        </ul>
    </li>
</ul>

<h3>Version 0.6</h3>
<ul>
    <li>Preliminary support of full remote control. This feature is already included but disabled in this version
        (an internal flag can be used to enable it, contact if you need this feature).
    </li>
    <li>Final support of modal layers (<code>ItsNatModalLayer</code> component), this feature works in ALL supported browsers including Opera Mini and Pocket IE.
        Pure SVG is supported too. Added "clean below" mode to ensure elements below the modal layer cannot be accessed in no way.
    </li>
    <li>Improved default renderers, for instance the default implementation of <code>ElementRenderer</code>,
        now replace the first text node containing "some" text, ignoring
        spaces, tabs and line feeds. For instance:
        <pre>
            &lt;div>
               &lt;b>
                Text Pattern
               &lt;/b>
            &lt;/div>
        </pre>
        The text node inside &lt;b> (" Text Pattern ") is replaced with the new value.
    </li>
    <li>Event capturing simulation on Internet Explorer 6+ (desktop). This feature only works with ItsNat based event listeners.
        User defined attributes or property handlers (for instance onclick="..." or node.onclick=...) are executed before
        any capturing listeners defined in ancestor nodes.
        With this feature events in MSIE 6+ are almost W3C DOM Level 2 Events compliant from a server point of view (MSIE already does bubbling).
    </li>
    <li>Event capturing and bubbling simulation in Pocket IE 6 (WM 6 and 6.1).
        Now <code>setJoystickMode(true)</code> is not mandatory (links are necessary but now events traverse
        the DOM tree then listeners registered in parent nodes will be executed).
    </li>
    <li>Improved default in place edition: editor control is automatically removed when clicking outside the editor control.
        This fixes edition in place when blur event is not fired in some circumstances (usually in MSIE 6/7, Opera Mini, Opera Mobile 8/9.5, Android, BlackBerry, iPhone etc).
        In spite of blur event is not fired in Opera Mini and Pocket IE (input text/password and textarea), in place edition works too.
    </li>
    <li><code>ListSelectionModel</code> objects used on components (table, list multiple, tree) are not "touched" when the
       components are being disposed (before this change elements in the selection model were removed).
       This avoids useless de-selection events, selection state can be now queried after disposing the container component.
    </li>
    <li>New feature: "Event listener chain control". A global listener (or a listener registered in a component)
         can control the flow of listener dispatching. This feature is useful to catch exceptions thrown
         by following event listeners or to open a transaction before the next listeners are executed
         and to commit/rollback this transaction after execution. For more info see
         <code>ItsNatEventListenerChain</code>.
    </li>
    <li>This release adds more developer control for errors, the developer has more
        opportunities to avoid the default ugly exceptions thrown to the end user.
        <ul>
            <li>Detection of session or server page lost with global event listeners: DOM events
                sent to a server document no longer in server are now dispatched to global event listeners (servlet level),
                in this context the call <code>ItsNatEvent.getItsNatDocument()</code> returns null.
                A lost page is a browser page without an associated server page/document
                because the servlet container or web application was reloaded, or session is expired or the document was invalidated in server.
                This is an opportunity to control how the web application manages this situation (these "lost" AJAX events), for instance
                returning to the client a <code>window.location = window.location;</code> instruction.
            </li>
            <li>Detection of not found template specified in <code>itsnat_doc_name</code> with global request listeners: if a web page
                is going to be loaded providing an <code>itsnat_doc_name</code> parameter and there is no template
                with this name, the global request listeners (servlet level) are dispatched.
                <code>ItsNatServletRequest.getItsNatDocument()</code> returns null but <code>itsnat_doc_name</code> parameter is defined
                (this fact may be used to distinguish this case from a custom request for instance to use pretty URLs).
            </li>
            <li>Detection of document not found with global remote control event listeners:
                When requesting a remote view/control page of a server document and is not found,
                global remote control event listeners (servlet level) are dispatched.
                In this context the call <code>ItsNatEvent.getItsNatDocument()</code> returns null.
                This is an opportunity to return a user defined web page reporting this error.
            </li>
            <li>Detection of session or server page lost with global remote control event listeners:
                Remote view/control refresh events in this case are now dispatched to global remote control event listeners (servlet level).
                In this context the call <code>ItsNatEvent.getItsNatDocument()</code> returns null.
                This is an opportunity to control how the web application manages this situation, for instance
                informing to the end user this situation using a JavaScript <code>alert</code>.
            </li>
        </ul>
    </li>
    <li><code>CometNotifier</code>: added <code>addEventListener</code> and <code>removeEventListener</code> methods
    to register user defined event listeners. These event listeners are dispatched when the client
    is being to be notified and an opportunity to update the document accordingly.
    </li>
    <li><code>CometNotifier</code> now inherits from <code>ItsNatUserData</code>.
        This interface is useful to share data between background threads and
        web request threads. <code>ItsNatUserData</code> methods are synchronized in this case.
    </li>
    <li><code>ClientDocument</code> now ever holds a strong reference of the <code>ItsNatDocument</code>
    including in remote view/control clients.
    </li>
    <li>Reduced the amount of JavaScript code sent to the client and increased speed of this code (more use of innerHTML when appropriated).
    </li>
    <li>Removed <code>ItsNatRemoteCtrlEvent.OBSERVED_INVALID</code> phase and global property, user code
        can ever ask to <code>ItsNatDocument.isInvalid()</code> because <code>ItsNatDocument</code>
        associated to the observer is ever accessible.
    </li>
    <li>Improved support of server-sent events in NetFront, the weird native method <code>dispatchEvent</code> is no longer used.
        Now the Feature Showcase example "Func. Testing Using Browser" works in NetFront.
    </li>
    <li>Internal node path resolution is more robust in browsers filtering text nodes with blanks (for instance BlackBerry).
    </li>
    <li>New browsers and versions supported or tested:
        <ul>
            <li>Google Chrome since 1.0 (previous versions deprecated).
            </li>
            <li>NetFront v3.4 is officially supported (tested with Access Linux Simulator). This browser is included
                in many SonyEricsson mobile phones.
            </li>
            <li>S60WebKit since S60 3rd Feature Pack 1 (previously FP 2 was the minimum version).
                This is the first release of S60WebKit. S60 5th v0.9 (touchscreen) is tested too with success, any S60WebKit version should work.
            </li>
            <li>S40WebKit since S40 6th v0.9 (Nokia 6600 and similar). Selection in HTML <code>select</code> with <code>size</code> or <code>multiple</code> attributes is buggy: change event is not ever fired,
                ItsNat adds a workaround, change event is ever fired when clicked the control. Another bug: when a new option element is added the scroll is not updated, again
                ItsNat adds a workaround (inserts and replaces again the select element).
            </li>
            <li><a href="http://download.microsoft.com/download/8/c/c/8cc611e7-ec6b-49ee-af4a-415559d53262/Internet%20Explorer%20Mobile%206.pdf">Internet Explorer Mobile 6 of Windows Mobile 6.1.4</a> is supported. This browser, named "IE 6 on 6", is a full port of
                IE 6 desktop and some parts of IE 8 (JavaScript engine). This browser is more powerful and very different to
                the IE included in WM 6 and 6.1. To avoid confusion the old version of IE Mobile is now called "Pocket Internet Explorer 6"
                and no longer is named "Internet Explorer Mobile 6", this name is used for the new generation.
            </li>
            <li>Android v1.0 Release 2, deprecated previous versions. In HTML select elements with <code>multiple</code> attribute a change event
                is automatically fired when blur is fired (as in iPhone) to avoid an Android bug. ItsNat
                adds a transparent workaround to fix the Android bug
                <a href="http://code.google.com/p/android/issues/detail?id=1788">first option ever selected</a>.
                Both workarounds make this browser workable.
            </li>
            <li>SkyFire v0.9, deprecated previous versions.
            </li>
            <li>Internet Explorer v8 RC 1 is officially supported, fixed problems with item selection in select elements (IE v6/7 specific code is not valid in IE 8
                because IE 8 is W3C DOM Level 2 Core compliant). By default IE 8 runs in default mode (IE 8 mode).
                This mode can be changed with a response header or a &lt;meta&gt; tag (<a href="http://msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx#SetMode">more info</a>).
            </li>
            <li>iPhone 2.2 new minimum version.
            </li>
            <li>Safari 4 beta and Opera 10 Alpha seem to work fine with no special adjust.
            </li>
            <li>Iris Browser 1.1 (1.1.3) is tested with success, this version is highly recommended because
                it fixes a serious bug in multiple selection (only single selection, with no workaround provided by ItsNat).
            </li>
        </ul>
    </li>
    <li>Changed name of JavaScript file <code>itsnat_msie_mobile.js</code> as <code>itsnat_msie_pocket.js</code>.
    </li>
    <li>New interfaces/classes:
        <ul>
            <li>ItsNatEventListenerChain</li>
            <li>ItsNatCometEvent</li>
            <li>ItsNatAsyncTaskEvent</li>
        </ul>
    </li>
    <li>New methods:
        <ul>
            <li>NameValue.toString()</li>
            <li>ItsNatEvent.getItsNatEventListenerChain()</li>
            <li>ItsNatEvent.getClientDocument()</li>
            <li>CometNotifier.addEventListener(EventListener)</li>
            <li>CometNotifier.removeEventListener(EventListener)</li>
            <li>ItsNatServlet.createServletRequest(ServletRequest,Map)</li>
            <li>ClientDocument.dispatchEvent(EventTarget,Event,int,long)</li>
            <li>ItsNatTimerHandle.isCancelled()</li>
            <li>ItsNatDOMUtil.isNodeInside(Node,Node)</li>
        </ul>
    </li>
    <li>Moved methods (preparing ItsNat to full remote control support):
        <ul>
            <li>ItsNatDocument.addContinueEventListener(*) => ClientDocument.addContinueEventListener(*)</li>
            <li>ItsNatDocument.removeContinueEventListener(*) => ClientDocument.removeContinueEventListener(*)</li>
            <li>ItsNatDocument.createItsNatTimer() => ClientDocument.createItsNatTimer()</li>
            <li>ItsNatDocument.addAsynchronousTask(*) => ClientDocument.addAsynchronousTask(*)</li>
        </ul>
    </li>
    <li>Changed methods:
        <ul>
            <li>ClientDocument.addAsynchronousTask(Runnable,boolean) => ClientDocument.addAsynchronousTask(Runnable,EventListener)</li>
            <li>ClientDocument.addAsynchronousTask(Runnable,boolean,int,long) => ClientDocument.addAsynchronousTask(Runnable,boolean,int,EventTarget,EventListener,int,ParamTransport[],String,long)</li>
            <li>ItsNatRemoteCtrlEventListener.handleRequest(*) => ItsNatRemoteCtrlEventListener.handleEvent(*) </li>
            <li>ItsNatComponentManager.createItsNatModalLayer(Element,int,float,String,NameValue[]) => ItsNatComponentManager.createItsNatModalLayer(Element,boolean,int,float,String,NameValue[]) </li>
            <li>ItsNatComponentManager.createItsNatModalLayer(Element,float,String,NameValue[]) => ItsNatComponentManager.createItsNatModalLayer(Element,boolean,float,String,NameValue[])</li>
        </ul>
    </li>
    <li>JavaScript code generated by the framework when registering event listeners has
        changed and two new public JavaScript methods have been published:
        <code>getNativeEvent()</code> and <code>setMustBeSent(boolean)</code>.
        See "6.2.3 Custom pre-send JavaScript code" in Manual for details.
    </li>
    <li>Fixed a bug in table components in joystick mode.</li>
    <li>Fixed bug: <code>ItsNatDocumentTemplate.isMarkupDrivenComponents()</code> returns
        the joystick mode.
    </li>
    <li>Fixed bug: text inside <code>option</code> is not updated in NetFront.
    </li>
    <li>Fixed bugs in form controls in browsers with bad support of change event (including iPhone).
    </li>
    <li>Fixed many bugs in Pocket IE and big performance improvements avoiding annoying blinks.
        For instance the Feature Showcase example "Func. Testing Using Browser" now works in Pocket IE.
    </li>
    <li>Fixed &lt;input type=file&gt; elements in BlackBerry: no longer is necessary to hide these elements (attribute "value" is fully avoided including with empty value and automatically removed to avoid unexpected Java exceptions).
    </li>
    <li>Fixed some bugs in remote view/ctrl using timers and avoiding user changes when loading the page and form auto-complete in some browsers.
    </li>
    <li>Workaround to avoid a BlackBerry bug: <code>removeAttribute()</code> does not remove the <code>style</code> attribute.
    </li>
    <li>Workaround to avoid a NetFront bug when adding a &lt;select&gt; element with <code>multiple</code> and/or <code>size</code> attribute using <code>appendChild/insertBefore</code>.
    </li>
    <li>Reduced the stability problems of Opera Mobile 8.6. Added a workaround to avoid
        a browser bug: &lt;button&gt; elements are extracted if inside a &lt;p&gt;, these buttons are reinserted in the original position.
    </li>
    <li>Other minor bug fixes</li>
    <li>Manual:
        <ul>
            <li>Updated accordingly with API changes. Comet example updated with event listeners.
            </li>
            <li>Added "6.2.8 Chain control of event listeners"
            </li>
            <li>Added "6.2.9 Detection of session or page lost with global event listeners"
            </li>
            <li>Added "6.22.1 More about the request phase and how to ask permission to user"
            </li>
            <li>Added "6.22.4 Document not found detection" (in "6.22 REMOTE VIEW/CONTROL")
            </li>
            <li>Added "6.22.5 Session expired or web application reload detection" (in "6.22 REMOTE VIEW/CONTROL")
            </li>
            <li>Added "6.27.1 Detection of no template found with the specified document name"
            </li>
            <li>Added "6.36 ADVICES TO CODE ITSNAT APPLICATIONS FOR POCKET IE"
            </li>
            <li>Added "7.14 MODAL LAYERS"
            </li>
            <li>Changed the JavaScript code generated to manage user defined code in event listeners,
                see "6.2.3 Custom pre send JavaScript code" for details.
            </li>
            <li>"7.21.3 The case of Pocket IE" is no longer a subchapter of "7.21.2 Joystick mode" because
                joystick mode is no longer necessary in Pocket IE. Changed accordingly.
            </li>
        </ul>
    </li>
    <li>Feature Showcase:
        <ul>
            <li>Updated project to NetBeans 6.5 (may work with previous versions).
            </li>
            <li>New example: Core/Listeners/Event Listener Chain Control.
            </li>
            <li>Updated "Core/Asynchronous Task" and "Core/Comet Notifier" now event based (using <code>EventListener</code>).
            </li>
            <li>Detection of page lost in <code>GlobalEventListener</code> (registered on servlet level), end user is notified and
                the page is automatically reloaded.
            </li>
            <li>Detection in <code>GlobalItsNatServletRequestListener</code> of template not found specified in <code>itsnat_doc_name</code>
                An exception is thrown.
            </li>
            <li>Detection of document not found when requesting remote monitoring a document
                in <code>GlobalRemoteControlSupervision</code> (registered on servlet level).
                Output is redirected to a specific error page.
            </li>
            <li>
                Detection of session expired or app. reloaded when remote monitoring a document
                in <code>GlobalRemoteControlSupervision</code> (registered on servlet level). A JavaScript alert
                notifies to the end user about this situation.
            </li>
            <li>In Remote View/Control the user can be optionally asked before monitoring.
            </li>
            <li>Renamed "IE Mobile" examples as "Pocket IE". Now the feature tree works in Pocket IE (see <code>PocketIEUtil</code>)
                using AJAX, in spite of this most of examples are painfully slow and some of them do not work (they are not customized for PIE).
                Edition in place is enabled in Pocket IE Free List, Table and Tree examples.
                Because ItsNat adds bubbling (and capturing) to Pocket IE, <code>setJoystickMode(true)</code>
                is not needed anymore, this implies <code>PocketIEFreeListStructure</code> and <code>PocketIETableStructure</code>
                are no longer necessary, <code>PocketIEFreeComboBoxSelectionDecorator</code> and <code>PocketIETableRowSelectionDecorator</code>
                have been updated accordingly.
            </li>
            <li>The "Func. Testing Using Browser" example is now deterministic and can run as quick
                as possible. See <code>FuncTestUsingBrowserUtil.dispatchEvent</code> method.
                This example works in ALL supported browsers.
            </li>
            <li>Added "Components/Modal Layers" examples.
            </li>
        </ul>
    </li>
</ul>

<h3>Version 0.5</h3>

<ul>
    <li>New browsers officially supported: Opera Mobile 9.5 beta,
        Opera Mobile 8.65, <a href="https://wiki.mozilla.org/Mobile#Fennec">Fennec</a> (a.k.a FireFox Mobile)
        <a href="http://ftp.mozilla.org/pub/mozilla.org/mobile/">1.0a1</a> (tested Windows desktop version),
        <a href="http://www.skyfire.com">SkyFire</a> and
        BlackBerry Bold and Storm (since JDE 4.6).
    </li>
    <li>Improved referrers support and back/forward buttons (avoiding page caching) on Opera Mobile 8.6x.
        Only IE Mobile, Opera Mini and BlackBerry have problems with referrers and back/forward buttons (no automatic reload, page caching cannot be avoided).
    </li>
    <li>SkyFire 0.8 has some critical bugs like "change" event is not fired on
        text boxes (text, password, file) and textarea elements. ItsNat adds a workaround
        to this bug, a change event is fired and dispatched when the blur event is fired
        simulating the missing event, this solution makes this browser workable.
        There are other important bugs: multiple selection does not work on select elements with "multiple"
        attribute and input elements with type=file do not work, there is no workaround for these bugs.
    </li>
    <li>BlackBerry (JDE 4.6) has a critical bug on HTML select elements with "multiple" or "size"
        attributes, when an option is added or removed (after loading the page)
        the select fools visually (DOM is correct). ItsNat provides a transparent workaround for this bug.
    </li>
    <li>Recognized Opera Mobile 8.x on some Motorola devices, virtually any deployment of Opera Mobile 8.x
        is recognized.
    </li>
    <li>Packages and interfaces of components (org.itsnat.comp.*) have been reorganized
        per component family (label, list, table, tree etc),
        this new structure is more appropriated to add future new components.
    </li>
    <li>AJAX requests now use the servlet mapping used by the client (servlet default mapping may be different to the servlet name).</li>
    <li>Improved performance and stability on IE Mobile when using onXXX inline handlers.</li>
    <li>Modal layers preview (to build modal panels/windows),
        this feature will be final on the next release but current state is workable. New interfaces and methods:
        <ul>
            <li>ItsNatModalLayer</li>
            <li>ItsNatComponentManager.createItsNatModalLayer(Element,int,float,String,NameValue)</li>
            <li>ItsNatComponentManager.createItsNatModalLayer(Element,float,String,NameValue)</li>
            <li>ItsNatComponentManager.createItsNatModalLayer(Element,NameValue)</li>
        </ul>
    </li>
    <li>Base path of framework JavaScript files can be set on load time of the page. New methods:
        <ul>
            <li>ItsNatDocument.isAddFrameworkScriptFiles()</li>
            <li>ItsNatDocument.setAddFrameworkScriptFiles(boolean)</li>
            <li>ItsNatDocument.getFrameworkScriptFilesBasePath()</li>
            <li>ItsNatDocument.setFrameworkScriptFilesBasePath(boolean)</li>
        </ul>
    </li>
    <li>Fixed some bugs in NetFront (3.5) caused by NetFront bugs:
        <ol>
            <li>NodeList.item() method not defined in childNodes collection of FORM elements. Fix: [] access works fine.</li>
            <li>If a &lt;script&gt; element removes itself (needed in load time) is replaced by an empty comment node. Fix: this unexpected node is removed by the framework.</li>
        </ol>
    </li>
    <li>Fixed bug: CSSStyleDeclaration.getPropertyValue(String) fails (null pointer exception) when the property is not defined, now returns an empty string as mandated by W3C</li>
    <li>Fixed bug: % values not valid in CSS properties (ex. "width:80%;" ) when parsed with ElementCSSInlineStyle</li>
    <li>Fixed bug: an "Internal Error" exception is thrown in concrete circumstances when monitoring (remote view/ctrl) a page open with iPhone.</li>
    <li>Fixed bug: ItsNatHTMLInputTextFormatted components, using "factories" changing the data format showed
        when the component has the focus, fail in browsers where blur event is fired before change event
        (for instance FireFox < 3.0, BlackBerry etc).
    </li>

    <li>Feature Showcase:
        <ul>
            <li>Opera Mobile 9.5, Opera 8.x on some Motorola devices, Fennec, BlackBerry
            and SkyFire detected as mobile browsers.</li>
        </ul>
    </li>
</ul>

<h3>Version 0.4.1</h3>

<ul>
    <li>Fixed bug: client/server node path resolution fails in some specific circumstances.</li>
    <li><a href="http://www.arora-browser.org">Arora browser</a> is recognized now as a QtWebKit browser</li>
    <li>QtWebKit for Windows CE works with ItsNat. There is no official release of this browser and current state is still buggy.</li>
    <li>Feature Showcase:
        <ul>
            <li>Improved "Explanation" of "Bookmarking with AJAX" example.</li>
        </ul>
    </li>
    <li>Manual:
        <ul>
            <li>Changed "6.9 COMET NOTIFIER" the statement that a blocking thread
            solution does not scale is currently being
            <a href="http://paultyma.blogspot.com/2008/03/writing-java-multithreaded-servers.html">debunked</a>.
            </li>
        </ul>
    </li>
</ul>

<h3>Version 0.4.0.2</h3>

 <p>Fixed a serious bug (null pointer exception) related with node caching</p>

<h3>Version 0.4</h3>
<ul>
    <li>Improved security against tampering and hijacking.</li>
    <li>More refactoring, more quality.</li>
    <li>New officially supported browsers:
        <ul>
            <li><b>Google Chrome Beta</b></li>
            <li><b>FireFox v3</b></li>
            <li><b>Android v0.9 Beta r1 (deprecated m5-rc15)</b></li>
            <li><b>QtWebKit of Qt Embedded 4.4 (tested 4.4.1 Linux)</b></li>
        </ul>
    </li>
    <li>Workaround for the iPhone 2.0 bug: change event not fired on select elements
        with defined "size" or "multiple" attributes. Solution: a change event is fired when a blur event is fired.
        <a href="http://lists.apple.com/archives/safari-iphone-web-dev/2008/Jul/msg00025.html">More info about the bug</a>
    </li>
    <li>Reduced the size of JavaScript code sent to the client when the server DOM changes.</li>
    <li>Improved node caching, faster path resolution (implies faster JavaScript code).</li>
    <li>Unknown browsers are seen as bots without JavaScript support, AJAX is automatically disabled
        therefore the server document is invalidated after loading.
    </li>
    <li>Documents are automatically invalidated when the session is lost,
        this affects, for instance, to remote views and comet notifiers (automatically stopped)
        avoiding "ever alive" documents when a user never closes an ItsNat page (AJAX) or the
        browser cannot guaranty unload notification when the page is closed (Opera 9, some mobile browsers etc).
    </li>
    <li>Fixed the lifecycle of remove views: load event not dispatched to listeners. Lifecycle of remove views is now clearly well defined.</li>
    <li>Fixed: the attribute/property "value" of OPTION is set as boolean.</li>
    <li>Fixed (regression): JavaScript alert is not shown on errors.</li>
    <li>Fixed: "auto-build components" feature not working in XML documents.</li>
    <li>Fixed: current value of an ItsNatHTMLTextArea component is not shown when the component is used for editing inplace the second time and successive.</li>
    <li>Fixed: editing in place doesn't work on iPhone.</li>
    <li>Fixed: editing in place using a select combo doesn't work on S60WebKit.</li>
    <li>Added ItsNatBoot, this is the new root class, now ItsNat is an interface.</li>
    <li>Added registry for global event listeners per servlet, per template and per document:
        <ul>
            <li>ItsNatServlet.addEventListener(EventListener)</li>
            <li>ItsNatServlet.removeEventListener(EventListener)</li>
            <li>ItsNatDocumentTemplate.addEventListener(EventListener)</li>
            <li>ItsNatDocumentTemplate.removeEventListener(EventListener)</li>
            <li>ItsNatDocument.addEventListener(EventListener)</li>
            <li>ItsNatDocument.removeEventListener(EventListener)</li>
        </ul>
    </li>
    <li>Added methods:
        <ul>
            <li>ItsNatDocument.createItsNatVariableResolver(boolean)  (improves the security)</li>
            <li>ItsNatVariableResolver.isDisconnected()</li>
        </ul>
    </li>
    <li>Changed names following the "viral" pattern of ItsNatDocument (for instance ItsNatDocument implies ItsNatDocumentTemplate)
        <ul>
            <li>DocumentTemplate => ItsNatDocumentTemplate</li>
            <li>ItsNatDocument.getDocumentTemplate()
                => ItsNatDocument.getItsNatDocumentTemplate()
            </li>
            <li>ItsNatServlet.registerDocumentTemplate(String,String,String)
                => ItsNatServlet.registerItsNatDocumentTemplate(String,String,String)
            </li>
            <li>ItsNatServlet.getDocumentTemplate(String)
                => ItsNatServlet.getItsNatDocumentTemplate(String)
            </li>
            <li>DocFragmentTemplate => ItsNatDocFragmentTemplate
            </li>
            <li>ItsNatServlet.registerDocFragmentTemplate(String,String,String)
                => ItsNatServlet.registerItsNatDocFragmentTemplate(String,String,String)
            </li>
            <li>ItsNatServlet.getDocFragmentTemplate(String)
                => ItsNatServlet.getItsNatDocFragmentTemplate(String)
            </li>
            <li>HTMLDocFragmentTemplate => ItsNatHTMLDocFragmentTemplate
            </li>
        </ul>
    </li>
    <li>Changed names following the "viral" pattern of ItsNatEvent:
        <ul>
            <li>NormalEvent => ItsNatNormalEvent</li>
            <li>DOMEvent => ItsNatDOMStdEvent</li>
            <li>DOMExtensionEvent => ItsNatDOMExtEvent</li>
            <li>ContinueEvent => ItsNatContinueEvent</li>
            <li>TimerEvent => ItsNatTimerEvent</li>
            <li>UserEvent => ItsNatUserEvent</li>
            <li>KeyEvent => ItsNatKeyEvent
            (and now inherits from ItsNatDOMStdEvent too)
            </li>
            <li>RemoteControlEvent => ItsNatRemoteCtrlEvent</li>
            <li>RemoteControlEventListener => ItsNatRemoteCtrlEventListener
            </li>
            <li>ItsNatDocument.addRemoteControlEventListener(...) =>
                ItsNatDocument.addItsNatRemoteCtrlEventListener(...)
            </li>
            <li>ItsNatDocument.removeRemoteControlEventListener(...) =>
                ItsNatDocument.removeItsNatRemoteCtrlEventListener(...)
            </li>
            <li>ItsNatDocumentTemplate.addRemoteControlEventListener(...) =>
                ItsNatDocumentTemplate.addItsNatRemoteCtrlEventListener(...)
            </li>
            <li>ItsNatDocumentTemplate.removeRemoteControlEventListener(...) =>
                ItsNatDocumentTemplate.removeItsNatRemoteCtrlEventListener(...)
            </li>
            <li>ItsNatServlet.addRemoteControlEventListener(...) =>
                ItsNatServlet.addItsNatRemoteCtrlEventListener(...)
            </li>
            <li>ItsNatServlet.removeRemoteControlEventListener(...) =>
                ItsNatServlet.removeItsNatRemoteCtrlEventListener(...)
            </li>
            <li>RemoteControlCometEvent => ItsNatRemoteCtrlCometEvent</li>
            <li>RemoteControlTimerEvent => ItsNatRemoteCtrlTimerEvent</li>
        </ul>
    </li>
    <li>Changed names following the "viral" pattern of ItsNatTimer:
        <ul>
            <li>TimerHandle => ItsNatTimerHandle</li>
            <li>ItsNatTimerEvent.getTimerHandle() =>
                ItsNatTimerEvent.getItsNatTimerHandle()
            </li>
        </ul>
    </li>
    <li>Feature Showcase:
        <ul>
            <li>Udated accordingly.</li>
            <li>Removed bot detection code, any unknown browser is already seen as a bot by ItsNat (server document is invalidated).</li>
            <li>Changed the example "Core/Listeners/Comet Notifier".</li>
            <li>ItsNatDocument.createItsNatVariableResolver(boolean) is used when appropriated.</li>
            <li>Fixed (regression): hourglass cursor is not shown when an AJAX request is pending to finish.</li>
            <li>Fixed: source code tab in "markup driven form" examples fail.</li>
        </ul>
    </li>
    <li>JavaDoc:
        <ul>
            <li>Udated accordingly.</li>
            <li>Corrected info about how to generate a user defined event in method: <br />
                ItsNatDocument.addUserEventListener(EventTarget target,
                          String name,EventListener listener,int syncMode,
                          ParamTransport[] extraParams,
                          String preSendCode,long ajaxTimeout)
            </li>
        </ul>
    </li>
    <li>Manual:
        <ul>
            <li>Updated accordingly.</li>
            <li>Changed Comet example (chapter 6.9 COMET NOTIFIER).</li>
            <li>Added chapter "6.2.7 Global event listeners"</li>
        </ul>
    </li>
</ul>

<h3>Version 0.3</h3>

    <ul>
        <li>ItsNat engine has been deeply refactored to fit the new features, quality and extensibility
        of the internal architecture is highly improved.
        </li>
        <li>Support of new desktop browsers:
            <ul>
                <li><b>Safari 3+</b> support (tested 3.0 on Mac and 3.1 on Windows)</li>
                <li><b>Opera 9+</b> support (tested 9.26).</li>
                <li><b>QtWebKit (Qt 4.4)</b></li>
            </ul>
        </li>

        <li>Some or complete support of <b>mobile browsers including AJAX</b>:
        Opera Mini 4, Opera Mobile 8.6, NetFront 3.5, Minimo 0.2, IE Mobile of Windows Mobile 6,
        iPhone/iPod Touch/iPhone SDK, Android (m5-rc15), S60WebKit (S60 3rd), Iris 1.0.8 and QtWebKit (Qt 4.4) based browsers.
        </li>
        <li><b>Remote control now is browser independent!!</b>
          Now another page open with any supported browser can be monitored
          using any supported browser.
        </li>
        <li><b>Pure SVG documents now have AJAX events and server state (browsers with SVG support)!!</b>
          Now SVG documents (served as image/svg+xml) are first class AJAX capable documents
          much like X/HTML documents are.
        </li>
        <li>Markup driven feature of forms: server forms can be automatically updated
        with client state (using components behind scenes configured as "markup driven").
        Explicit use of ItsNat components is not necessary in this mode.
        </li>
        <li>Improved client/server synchronization on form controls. This ensures the client shows the state
          of the server after loading, and if components are used, form controls are
          ever in sync with the server.
          <ul>
            <li>In spite of pages are requested from server, Opera (desktop) and Safari
              autofill forms with previous values (usually returning with back button).
              These changes are automatically reverted by ItsNat to the server state.
              This is not a problem in FireFox, MSIE and others (when the page is requested to the server autofill is disabled).
            </li>
            <li>Forms changed by the user while the page is loading (before the initial script is executed)
              are reverted to the server state.
            </li>
          </ul>
        </li>
        <li>Configurable mobile modes in components:
            <ul>
                <li>Keyboard is not needed for selection in "free" components (CTRL key "ever" pressed).
                </li>
                <li>Joystick mode: stylus/mouse is not needed to click in "free" components (useful for mobile devices without touchscreen).
                </li>
            </ul>
        </li>
        <li>Method ItsNatDocument.toDOM(String) to convert a String to DOM (DocumentFragment) on the fly (use similar to innerHTML).
        </li>
        <li>"Reload" button or direct URL no longer lost the referrer in Internet Explorer.
        </li>
        <li>Dispatching order of DOM event listeners in MSIE is the same as W3C browsers
        (first registered/first dispatched).</li>
        <li>Updated CyberNeko HTML Parser to 1.9.7 (Apache 2.0 license).
        </li>
        <li>Bug fixes:
            <ul>
                <li>ItsNatTreeUIImpl.removeAllChildTreeNodes only removes half of child nodes.
                </li>
                <li>Fixes problems related to Xerces version detection (ever supposed an old version).
                </li>
                <li>Behavior change: ItsNatDocument.addEventListener, addUserEventListener and addContinueEventListener
                  methods do nothing if the same combination of target/type/listener instance/useCapture was previously registered.
                  This behavior is more aligned with W3C DOM specification. This change does not apply to ItsNatTimer.schedule* methods.
                </li>
                <li>Unsync between selection models and UI in some circumstances.</li>
            </ul>
        </li>
        <li>Interface org.itsnat.core.event.KeyEvent: changed "long" data types to "int".
        </li>
        <li>Added methods (see javadoc for more info):
            <ul>
                <li>ItsNat.getVersion()</li>
                <li>ItsNatDocument.toDOM(String)</li>
                <li>ItsNatDocument.addContinueEventListener(EventTarget,EventListener)</li>
                <li>ItsNatServletContext.getMaxOpenDocumentsBySession()</li>
                <li>ItsNatServletContext.setMaxOpenDocumentsBySession(int)</li>
                <li>ClientDocument.getLastRequestTime()</li>
                <li>ClientDocument.getCreationTime()</li>
                <li>ItsNatDocument.getCreationTime()</li>
                <li>ItsNatDocument.getElementGroupManager() <br /><br /></li>
                
                <li>ItsNatServletConfig.isSelectionOnComponentsUsesKeyboard()</li>
                <li>ItsNatServletConfig.setSelectionOnComponentsUsesKeyboard(boolean)</li>
                <li>DocumentTemplate.isSelectionOnComponentsUsesKeyboard()</li>
                <li>DocumentTemplate.setSelectionOnComponentsUsesKeyboard(boolean)</li>
                <li>ItsNatComponentManager.isSelectionOnComponentsUsesKeyboard()</li>
                <li>ItsNatComponentManager.setSelectionOnComponentsUsesKeyboard(boolean)</li>
                <li>ItsNatFreeListMultSel.isSelectionUsesKeyboard()</li>
                <li>ItsNatFreeListMultSel.setSelectionUsesKeyboard(boolean)</li>
                <li>ItsNatTable.isSelectionUsesKeyboard()</li>
                <li>ItsNatTable.setSelectionUsesKeyboard(boolean)</li>
                <li>ItsNatTree.isSelectionUsesKeyboard()</li>
                <li>ItsNatTree.setSelectionUsesKeyboard(boolean) <br /><br /></li>
                
                <li>ItsNatServletConfig.isJoystickMode()</li>
                <li>ItsNatServletConfig.setJoystickMode(boolean)</li>
                <li>DocumentTemplate.isJoystickMode()</li>
                <li>DocumentTemplate.setJoystickMode(boolean)</li>
                <li>ItsNatDocument.isJoystickMode()</li>
                <li>ItsNatDocument.setJoystickMode(boolean)</li>
                <li>ItsNatFreeList.isJoystickMode()</li>
                <li>ItsNatFreeList.setJoystickMode(boolean)</li>
                <li>ItsNatTable.isJoystickMode()</li>
                <li>ItsNatTable.setJoystickMode(boolean)</li>
                <li>ItsNatTree.isJoystickMode()</li>
                <li>ItsNatTree.setJoystickMode(boolean) <br /><br /></li>
                
                <li>ItsNatServletConfig.isMarkupDrivenComponents()</li>
                <li>ItsNatServletConfig.setMarkupDrivenComponents(boolean)</li>
                <li>DocumentTemplate.isMarkupDrivenComponents()</li>
                <li>DocumentTemplate.setMarkupDrivenComponents(boolean)</li>
                <li>ItsNatComponentManager.isMarkupDrivenComponents()</li>
                <li>ItsNatComponentManager.setMarkupDrivenComponents(boolean)</li>
                <li>ItsNatHTMLInputTextBased.isMarkupDrivenComponent()</li>
                <li>ItsNatHTMLInputTextBased.setMarkupDrivenComponent(boolean)</li>
                <li>ItsNatHTMLTextArea.isMarkupDrivenComponent()</li>
                <li>ItsNatHTMLTextArea.setMarkupDrivenComponent(boolean)</li>
                <li>ItsNatHTMLSelect.isMarkupDrivenComponent()</li>
                <li>ItsNatHTMLSelect.setMarkupDrivenComponent(boolean) <br /><br /></li>
                
                <li>ElementTree.getRowCount()</li>
                <li>ElementTreeNode.getRowCount()</li>
                <li>ElementTreeNodeList.getRowCount()</li>
                <li>ItsNatTreeUI.getRow(TreePath)</li>
                <li>ItsNatTreeUI.getRow(int,TreePath)</li>
                <li>ItsNatTreeUI.getRowCount()</li>
                <li>ItsNatTreeUI.getRowCount(TreePath)</li>
                <li>ItsNatTreeUI.getRowCount(int,TreePath) <br /><br /></li>
                
                <li>ItsNatLabel.isEditingEnabled()</li>
                <li>ItsNatLabel.setEditingEnabled(boolean)</li>
                <li>ItsNatList.isEditingEnabled()</li>
                <li>ItsNatList.setEditingEnabled(boolean)</li>
                <li>ItsNatTable.isEditingEnabled()</li>
                <li>ItsNatTable.setEditingEnabled(boolean)</li>
                <li>ItsNatTree.isEditingEnabled()</li>
                <li>ItsNatTree.setEditingEnabled(boolean) <br /><br /></li>
                
                <li>ItsNatComponentManager.isAutoBuildComponents()</li>
                <li>ItsNatComponentManager.setAutoBuildComponents() <br /><br /></li>
                
                <li>ItsNatException: new constructors (added parameter context)</li>
                <li>ItsNatException.getContext()</li>

            </ul>
        </li>
        <li>Removed methods:
            <ul>
                <li>ClientDocument.getCreationDate()</li>
                <li>ItsNatDocument.getCreationDate()</li>
                <li>ItsNatHTMLComponentManager.getItsNatHTMLDocument()</li>
                <li>ItsNatHTMLElementComponent.getItsNatHTMLDocument()</li>
                <li>ItsNatTreeNodeUI.removeTreeNodeAt(TreePath)</li>
            </ul>
        </li>
        <li>Changed methods:
            <ul>
                <li>ItsNatServletResponse.addCodeToSend(String) to
                      ItsNatServletResponse.addCodeToSend(Object)
                </li>
                <li>ItsNatDOMUtil.getElementById(String,Element) to
                      ItsNatDOMUtil.getElementById(String,Node)
                </li>
                <li>ItsNatTableUI.insertRowAt(int,Object[])
                    now returns org.w3c.dom.Element
                </li>
                <li>ItsNatComponentManager.addItsNatComponent(ItsNatComponent)
                now returns ItsNatComponent
                </li>
            </ul>
        </li>
        <li>Moved methods:
            <ul>
                <li>ItsNatComponentUI.isEnabled() to ItsNatComponent.isEnabled()</li>
                <li>ItsNatComponentUI.setEnabled(boolean) to ItsNatComponent.setEnabled(boolean)</li>
            </ul>
        </li>
        <li>Moved methods to ElementGroupManager:
            <ul>
                <li>ItsNatDocument.createElementListFree(Element parentElement,boolean master)</li>
                <li>ItsNatDocument.createElementTableFree(Element parentElement,boolean master)</li>
                <li>ItsNatDocument.createElementLabel(Element parentElement,boolean removePattern,ElementLabelRenderer renderer)</li>
                <li>ItsNatDocument.createElementList(Element parentElement,boolean removePattern,ElementListStructure structure,ElementListRenderer renderer)</li>
                <li>ItsNatDocument.createElementList(Element parentElement,boolean removePattern)</li>
                <li>ItsNatDocument.createElementTable(Element parentElement,boolean removePattern,ElementTableStructure structure,ElementTableRenderer renderer)</li>
                <li>ItsNatDocument.createElementTable(Element parentElement,boolean removePattern)</li>
                <li>ItsNatDocument.createElementTreeNode(Element parentElement,boolean removePattern,ElementTreeNodeStructure structure,ElementTreeNodeRenderer renderer)</li>
                <li>ItsNatDocument.createElementTreeNode(Element parentElement,boolean removePattern)</li>
                <li>ItsNatDocument.createElementTree(boolean treeTable,Element parentElement,boolean removePattern,ElementTreeNodeStructure structure,ElementTreeNodeRenderer renderer)</li>
                <li>ItsNatDocument.createElementTree(boolean treeTable,Element parentElement,boolean removePattern)</li>
                <li>ItsNatDocument.createElementTreeNodeList(boolean treeTable,Element parentElement,boolean removePattern,ElementTreeNodeStructure structure,ElementTreeNodeRenderer renderer)</li>
                <li>ItsNatDocument.createElementTreeNodeList(boolean treeTable,Element parentElement,boolean removePattern)</li>
                <li>ItsNatDocument.createDefaultElementRenderer()</li>
                <li>ItsNatDocument.createDefaultElementLabelRenderer()</li>
                <li>ItsNatDocument.createDefaultElementListRenderer()</li>
                <li>ItsNatDocument.createDefaultElementTableRenderer()</li>
                <li>ItsNatDocument.createDefaultElementListStructure()</li>
                <li>ItsNatDocument.createDefaultElementTableStructure()</li>
                <li>ItsNatDocument.createDefaultElementTreeNodeStructure()</li>
            </ul>
        </li>
        <li>JavaScript (public API):
            <ul>
                <li>Added method: document.getItsNatDoc().setEnableEventMonitors(booleanValue)
                    to (temporally) enable/disable event monitors.
                </li>
                <li>Added param "timeout" of type boolean to the method EventMonitor.after(evt,timeout) of event monitors.
                </li>
            </ul>
        </li>
        <li>Feature Showcase:
            <ul>
                <li>Added "SVG/Pure SVG" example.</li>
                <li>Added "Auto. Component Build/Markup Driven Forms" examples.</li>
                <li>Automatic detection of mobile browsers: free components (lists, tables and trees) are set up in "not keyboard" mode for selection.</li>
                <li>Joystic Mode option (a check box) for mobile browsers without stylus/touchscreen.</li>
                <li>Edit in place now optionally with a single click.</li>
                <li>Fixed bug with "wait" mode of cursor and AJAX Timeout example.</li>
                <li>Fixed bug in tree examples: when selecting and removing a parent along with child nodes.</li>
                <li>Removed unnecessary form reset in "Component Based Example in Manual".</li>
                <li>Packaged as a NetBeans 6.1 project.</li>
            </ul>
        </li>

        <li>Reference Manual:
            <ul>
                <li>Updated accordingly to the new features and changes.</li>
                <li>Splited "ITSNAT:RETURNING.../Beyond (X)HTML" as:
                    <ul>
                        <li>"Beyond (X)HTML: pure SVG and SVG embedded in XHTML"</li>
                        <li>"Beyond (X)HTML: XML"</li>
                    </ul>
                </li>
                <li>Added "ITSNAT:RETURNING.../One Web: AJAX everywhere including in your mobile browser".</li>
                <li>Removed "DEVELOPMENT LIFECYCLE/The Mozilla/Firefox reload problem".
                    Never was a problem in ItsNat because served pages by ItsNat are not cached in FireFox
                    (auto fill of forms only affects to cached pages).
                </li>
                <li>Added "CORE MODULE FEATURES/DOM EVENT LISTENERS/Key Events"</li>
                <li>Added "CORE MODULE FEATURES/BROWSER ISSUES"</li>
                <li>Added "CORE MODULE FEATURES/STRING TO DOM CONVERSION"</li>
                <li>Added "CORE MODULE FEATURES/MARKUP FRAGMENTS/SVG Fragments"</li>
                <li>Changed "CORE MODULE FEATURES/OTHER NAMESPACES INSIDE XHTML" to "CORE MODULE FEATURES/SVG"</li>
                <li>Added "COMPONENTS/AUTOMATIC COMPONENT BUILD/Other configuration ... as artifacts"</li>
                <li>Added "COMPONENTS/MARKUP DRIVEN MODE IN FORM BASED NODES"</li>
                <li>Added "COMPONENTS/COMPONENTS IN MOBILE DEVICES/BROWSERS"</li>
            </ul>
        </li>
    </ul>

<h3>Version 0.2</h3>
    <ul>
        <li>Updated AGPL v3 license to the final release.
            <a href="http://www.fsf.org/licensing/licenses/agpl-3.0.html">http://www.fsf.org/licensing/licenses/agpl-3.0.html</a>
        </li>
        <li>Framework:
            <ul>
                <li>Added Server-sent events dispatched directly to the server (not using the browser).</li>
                <li>Added AJAX timeout.</li>
                <li>New unrender methods are called to clean up used resources related to markup.</li>
                <li>ContinueEvent, UserEvent, TimerEvent are now defined as DOM extensions.</li>
                <li>Fixed a bug in ElementCSSInlineStyle implementation.</li>
                <li>Fixed a bug in ItsNatTable based components (related to selection).</li>
                <li>Fixed a bug in ElementTable.setTableValues(Object[][])</li>
                <li>Fixed bug: CodeToSendListener.postSendCode(CodeToSendEvent) is never called.</li>
                <li>Timestamp detection in nested fragments (a change in a nested fragment invalidates and reloads any parent template).</li>
                <li>Added classes/interfaces: DOMExtensionEvent</li>
                <li>Removed classes/interfaces:
                    <ul>
                        <li>UserEventListener (replaced by org.w3c.dom.events.EventListener)</li>
                        <li>ContinueEventListener (replaced by org.w3c.dom.events.EventListener)</li>
                        <li>TimerEventListener (replaced by org.w3c.dom.events.EventListener)</li>
                    </ul>
                </li>
                <li>Renamed classes:
                    <ul>
                        <li>Artifact => NameValue</li>
                        <li>ClientItemTrans => SingleParamTransport</li>
                        <li>ClientTransport => ParamTransport</li>
                        <li>ClientParamTrans => CustomParamTransport</li>
                        <li>ClientNodeAllAttributesTrans => NodeAllAttribTransport</li>
                        <li>ClientNodeInnerTrans => NodeInnerTransport</li>
                        <li>ClientNodePropertyTrans => NodePropertyTransport</li>
                         <li>ClientNodeAttributeTrans => NodeAttributeTransport</li>
                        <li>ClientNodeCompleteTrans => NodeCompleteTransport</li>
                        <li>ClientNodeMutationTrans => NodeMutationTransport</li>
                    </ul>
                </li>
                <li>Added methods:
                    <ul>
                        <li>ItsNatServletConfig.getAJAXTimeout()/setAJAXTimeout(long)</li>
                        <li>DocumentTemplate.getAJAXTimeout()/setAJAXTimeout(long)</li>
                        <li>ItsNatDocument.getAJAXTimeout()/setAJAXTimeout(long)</li>
                        <li>CometNotifier.getAJAXTimeout()</li>
                        <li>ClientDocument.createCometNotifier(long ajaxTimeout)</li>
                        <li>ItsNatComponent.setEventListenerParams(String type,boolean useCapture,int syncMode,
                            ClientTransport[] extraParams,String preSendCode,long ajaxTimeout)
                        </li>
                        <li>ItsNatDocument.dispatchEventLocally(EventTarget target,Event evt)</li>
                        <li>ItsNatEvent.setExtraParam(String name,Object value)</li>
                        <li>ItsNatDocument.setInvalid()</li>
                        <li>ItsNatDocument.addUserEventListener(EventTarget,String,EventListener)</li>
                        <li>Unrender methods:
                            <ul>
                                <li>ElementRenderer.unrender</li>
                                <li>ElementLabelRenderer.unrenderLabel</li>
                                <li>ElementListRenderer.unrenderList</li>
                                <li>ElementTableRenderer.unrenderTable</li>
                                <li>ElementTreeNodeRenderer.unrenderTreeNode</li>
                                <li>ItsNatLabelRenderer.unrenderLabel</li>
                                <li>ItsNatListCellRenderer.unrenderListCell</li>
                                <li>ItsNatTableHeaderCellRenderer.unrenderTableHeaderCell</li>
                                <li>ItsNatTableCellRenderer.unrenderTableCell</li>
                                <li>ItsNatTreeCellRenderer.unrenderTreeCell</li>
                            </ul>
                        </li>
                        <li>createUserEvent(name) (JavaScript)</li>
                        <li>dispatchUserEvent(target,evt) (JavaScript)</li>
                    </ul>
                </li>
                <li>Removed methods:
                    <ul>
                        <li>ItsNatComponent.getSyncMode()</li>
                        <li>ItsNatComponent.setSyncMode(int)</li>
                        <li>NormalEvent.getClientTransports()</li>
                    </ul>
                </li>
                <li>Changed methods:
                    <ul>
                        <li>Added "long ajaxTimeout" param to the following methods:
                            <ul>
                                <li>ItsNatTimer.schedule* (after preSendCode)</li>
                                <li>RemoteControlEvent.getAJAXTimeout()</li>
                                <li>ItsNatDocument.addAsynchronousTask(Runnable task,boolean lockDoc,int maxWait)</li>
                                <li>ItsNatDocument.addEventListener(EventTarget target,String type,EventListener listener,boolean useCapture,int syncMode,ClientTransport[] extraParams,String preSendCode)</li>
                                <li>ItsNatDocument.addMutationEventListener(EventTarget target,EventListener listener,boolean useCapture,int syncMode,String preSendCode)</li>
                                <li>ItsNatDocument.addContinueEventListener(EventTarget target,ContinueEventListener listener,int syncMode,ClientTransport[] extraParams,String preSendCode)</li>
                                <li>ItsNatDocument.addUserEventListener(EventTarget target,String name,UserEventListener listener,int syncMode,ClientTransport[] extraParams,String preSendCode)</li>
                            </ul>
                        </li>
                        <li>ItsNatDocument.addContinueEventListener : ContinueEventListener param is now EventListener</li>
                        <li>ItsNatDocument.addUserEventListener : UserEventListener param is now EventListener</li>
                        <li>ItsNatTimer methods: TimerEventListener param is now EventListener</li>
                        <li>fireUserEvent(target,name) (JavaScript)</li>
                    </ul>
                </li>
                <li>Moved methods:
                    <ul>
                        <li>NormalEvent.getClientItemValue(String): changed return type from String to Object,
                        moved ItsNatEvent and renamed as ItsNatEvent.getExtraParam(String)
                        </li>
                        <li>ItsNatDocument.createCometNotifier()
                        to ClientDocument.createCometNotifier()
                        </li>
                        <li>ItsNatDocument.startEventDispatcherThread(final Runnable task)
                        to ClientDocument.startEventDispatcherThread(final Runnable task)
                        </li>
                        <li>ItsNatDocument.dispatchEvent(EventTarget target,Event evt,int syncMode)
                        to ClientDocument.dispatchEvent(EventTarget target,Event evt,int syncMode,long ajaxTimeout)
                        </li>
                    </ul>
                </li>
                <li>New "itsnat_ajaxtimeout" optional param on remote control (all modes, comet and timer).
                </li>
            </ul>
        </li>
        <li>JavaDoc:
            <ul>
                <li>Updated to the current API.</li>
                <li>Changed ItsNatTreeUI.removeRootNode (behavior remains the same).</li>
            </ul>
        </li>
        <li>Feature Showcase:
            <ul>
                <li>Changed NetBeans project configuration to the last JVM 1.4 (j2sdk 1.4.2_16 b05).</li>
                <li>"Server-Driven Test" example: fixed a stack overflow.</li>
                <li>Fixed a dead lock in "Remote/View Control" example.</li>
                <li>Some cleaning (unused references etc).</li>
                <li>Updated COMET example (now calling ClientDocument.createCometNotifier()).</li>
                <li>Added "AJAX timeout" example.</li>
                <li>Added Forward button testing (new links) in "Referrers" examples.</li>
                <li>Added new functional web testing examples (core & components) using the server only.</li>
                <li>Added "Bookmarking with AJAX" example.</li>
                <li>Added permalinks: now Google/any search engine can traverse the entire feature tree with JavaScript disabled.</li>
                <li>"Free List Compound" example: method PersonRenderer.unrenderListCell now disposes any component of the row being removed.</li>
            </ul>
        </li>
        <li>Manual:
            <ul>
                <li>Updated to the current API.</li>
                <li>Documented AJAX timeout.</li>
                <li>Documented events fired by server not using the browser (user events included).</li>
                <li>Documented bookmarking techniques.</li>
            </ul>
        </li>
    </ul>

<h3>Version 0.1</h3>

    <ul><li>First public release</li></ul>


</body>
</html>
